[Sat, 20 May 17 20:35:00 +0200][INFO] ["8",1]
[Sat, 20 May 17 20:35:00 +0200][INFO] 
		SELECT id
		FROM workflow.status_mapping
		WHERE
            `workflow_id` = '8'
                 AND `first_step` = 1
                
[Sat, 20 May 17 20:35:00 +0200][INFO] ["36"]
[Sat, 20 May 17 20:35:00 +0200][INFO] SELECT
                    sy.system_name,
                    r.request_id,
                    m.workflow_id,
                    m.step_from AS current_step_id,
                    m.id AS current_step,
                    s.step_name AS current_step_name,
                    m2.id AS next_step_id,
                    s2.step_name AS  next_step_name,
                    w.workflow_name
                   FROM workflow.status_mapping m
                    INNER JOIN workflow.workflows w ON w.workflow_id = m.workflow_id
                    INNER JOIN workflow.steps s ON s.step_id = m.step_from
                    INNER JOIN workflow.request_types r ON r.request_id = w.request_id
                    INNER JOIN workflow.workflow_systems sy ON sy.system_id = r.system_id
                    LEFT JOIN workflow.status_mapping m2 ON m2.step_from = m.step_to AND m2.workflow_id = m.workflow_id
                    LEFT JOIN workflow.steps s2 ON s2.step_id = m2.step_from
                   WHERE m.id = '36'
[Sat, 20 May 17 20:35:00 +0200][INFO] ["23"]
[Sat, 20 May 17 20:35:00 +0200][INFO] SELECT r.*, f.* FROM workflow.required_fields r 
                    INNER JOIN workflow.fields f ON f.field_id = r.field_id
                    WHERE r.step_id = '23'
[Sat, 20 May 17 20:35:00 +0200][INFO] INSERT INTO task_manager.projects (step_data,priority,department_id,project_status) VALUES ('{"job":{"description":"mrf","name":"new mrf","priority":1,"deptId":1,"workflow":"8","added_by":"admin","date_created":"2017-05-20","project_status":1,"dueDate":"2017-05-20"},"scheduler":{"name":"new mrf","priority":1,"added_by":"admin","date_created":"2017-05-20","project_status":1,"dueDate":"2017-05-20"}}',1,1,1)
[Sat, 20 May 17 20:35:00 +0200][INFO] ["34"]
[Sat, 20 May 17 20:35:00 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '34'
                
[Sat, 20 May 17 20:35:00 +0200][INFO] ["34"]
[Sat, 20 May 17 20:35:00 +0200][INFO] 
		SELECT workflow_data, audit_data, id
		FROM workflow.workflow_data
		WHERE
            `object_id` = '34'
                
[Sat, 20 May 17 20:35:00 +0200][INFO] [5,"task_manager"]
[Sat, 20 May 17 20:35:00 +0200][INFO] 
		SELECT *
		FROM auto_notifications
		WHERE
            `triggering_status` = 5
                 AND `system` = 'task_manager'
                
[Sat, 20 May 17 20:35:00 +0200][INFO] [5,"task_manager"]
[Sat, 20 May 17 20:35:00 +0200][INFO] 
		SELECT *
		FROM auto_notifications
		WHERE
            `triggering_status` = 5
                 AND `system` = 'task_manager'
                
[Sat, 20 May 17 20:35:00 +0200][INFO] ["34"]
[Sat, 20 May 17 20:35:00 +0200][INFO] UPDATE workflow.notifications_sent 
                                SET status = 2 
                                WHERE case_id = '34' 
                                AND status != 3
[Sat, 20 May 17 20:35:00 +0200][ERROR] PDOException: SQLSTATE[HY000]: General error
 File=C:\xampp\htdocs\core\app\library\Mysql.php
 Line=255
#0 [internal function]: PDOStatement->fetchAll()
#1 C:\xampp\htdocs\core\app\library\Mysql.php(255): Phalcon\Db\Result\Pdo->fetchAll()
#2 C:\xampp\htdocs\core\app\library\Mysql.php(156): Mysql2->queryDatabase('UPDATE workflow...', Array, true)
#3 C:\xampp\htdocs\core\app\library\Notifications\SendNotification.php(131): Mysql2->_query('UPDATE workflow...', Array)
#4 C:\xampp\htdocs\core\app\library\Notifications\SendNotification.php(114): SendNotification->save()
#5 C:\xampp\htdocs\core\app\library\WorkflowClasses\WorkflowStep.php(292): SendNotification->buildEmail(5, Array)
#6 C:\xampp\htdocs\core\app\library\WorkflowClasses\WorkflowStep.php(396): WorkflowStep->sendNotification(Object(Save), Array)
#7 C:\xampp\htdocs\core\app\library\WorkflowClasses\WorkflowStep.php(231): WorkflowStep->completeWorkflowObject(Object(Save), Array, false)
#8 C:\xampp\htdocs\FormBuilder\app\controllers\InboxController.php(275): WorkflowStep->save(Object(Save), Array)
#9 [internal function]: InboxController->saveNewCaseAction()
#10 [internal function]: Phalcon\Dispatcher->dispatch()
#11 C:\xampp\htdocs\FormBuilder\public\index.php(23): Phalcon\Mvc\Application->handle()
#12 {main}
[Sat, 20 May 17 20:35:00 +0200][INFO] INSERT INTO workflow.notifications_sent (subject,message,recipient,date_sent,project_id,case_id,status,step_id) VALUES ('Project new mrf has been accepted by admin [id]','Project new mrf has been accepted by admin 1 2017-05-20 MRF Start','bluetiger_uan@yahoo.com','2017-05-20 20:35:00','34','34',1,5)
[Sat, 20 May 17 20:35:00 +0200][INFO] INSERT INTO workflow.workflow_data (workflow_data,audit_data,object_id) VALUES ('{"request_id":"4","current_step":"36","status":"SAVED","workflow_id":"8","elements":{"34":{"request_id":"4","current_step":"36","status":"SAVED","workflow_id":"8"}}}','{"elements":{"34":{"steps":{"36":{"claimed":"admin","dateCompleted":"2017-05-20 20:35:00","status":"NEW PROJECT"}}}}}','34')
[Sat, 20 May 17 20:35:00 +0200][ERROR] PDOException: SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'filename' cannot be null
 File=C:\xampp\htdocs\core\app\library\Mysql.php
 Line=267
#0 [internal function]: PDOStatement->execute()
#1 [internal function]: Phalcon\Db\Adapter\Pdo->executePrepared(Object(PDOStatement), Array, NULL)
#2 C:\xampp\htdocs\core\app\library\Mysql.php(267): Phalcon\Db\Adapter\Pdo->execute('INSERT INTO tas...', Array)
#3 C:\xampp\htdocs\core\app\library\Mysql.php(323): Mysql2->queryDatabase('INSERT INTO tas...', Array, false)
#4 C:\xampp\htdocs\core\app\library\Documents\ProcessFiles.php(252): Mysql2->_insert('task_manager.at...', Array)
#5 C:\xampp\htdocs\core\app\library\Documents\ProcessFiles.php(299): ProcessFiles->doInsert()
#6 C:\xampp\htdocs\core\app\library\Documents\Attachments.php(135): ProcessFiles->save()
#7 C:\xampp\htdocs\core\app\library\Documents\Attachments.php(51): Attachments->addProcessFilesManager('26', 'admin', Array)
#8 C:\xampp\htdocs\FormBuilder\app\controllers\InboxController.php(299): Attachments->loadObject(Array)
#9 [internal function]: InboxController->saveNewCaseAction()
#10 [internal function]: Phalcon\Dispatcher->dispatch()
#11 C:\xampp\htdocs\FormBuilder\public\index.php(23): Phalcon\Mvc\Application->handle()
#12 {main}
[Sat, 20 May 17 20:35:00 +0200][INFO] INSERT INTO task_manager.attachments (source_id,date_uploaded,uploaded_by,file_destination,prf_type,prf_editable,file_type,filename) VALUES ('26','2017-05-20 20:35:00','admin','C:/xampp/htdocs/FormBuilder/public/uploads/26/michael.jpg','file',,,'michael.jpg')
[Sat, 20 May 17 20:35:00 +0200][INFO] ["287"]
[Sat, 20 May 17 20:35:00 +0200][INFO] 
		SELECT *
		FROM task_manager.attachments
		WHERE
            `id` = '287'
                
[Sat, 20 May 17 20:35:26 +0200][INFO] ["8",1]
[Sat, 20 May 17 20:35:26 +0200][INFO] 
		SELECT id
		FROM workflow.status_mapping
		WHERE
            `workflow_id` = '8'
                 AND `first_step` = 1
                
[Sat, 20 May 17 20:35:26 +0200][INFO] ["36"]
[Sat, 20 May 17 20:35:26 +0200][INFO] SELECT
                    sy.system_name,
                    r.request_id,
                    m.workflow_id,
                    m.step_from AS current_step_id,
                    m.id AS current_step,
                    s.step_name AS current_step_name,
                    m2.id AS next_step_id,
                    s2.step_name AS  next_step_name,
                    w.workflow_name
                   FROM workflow.status_mapping m
                    INNER JOIN workflow.workflows w ON w.workflow_id = m.workflow_id
                    INNER JOIN workflow.steps s ON s.step_id = m.step_from
                    INNER JOIN workflow.request_types r ON r.request_id = w.request_id
                    INNER JOIN workflow.workflow_systems sy ON sy.system_id = r.system_id
                    LEFT JOIN workflow.status_mapping m2 ON m2.step_from = m.step_to AND m2.workflow_id = m.workflow_id
                    LEFT JOIN workflow.steps s2 ON s2.step_id = m2.step_from
                   WHERE m.id = '36'
[Sat, 20 May 17 20:35:26 +0200][INFO] ["23"]
[Sat, 20 May 17 20:35:26 +0200][INFO] SELECT r.*, f.* FROM workflow.required_fields r 
                    INNER JOIN workflow.fields f ON f.field_id = r.field_id
                    WHERE r.step_id = '23'
[Sat, 20 May 17 20:35:26 +0200][INFO] INSERT INTO task_manager.projects (step_data,priority,department_id,project_status) VALUES ('{"job":{"description":"mrf","name":"new mrf","priority":1,"deptId":1,"workflow":"8","added_by":"admin","date_created":"2017-05-20","project_status":1,"dueDate":"2017-05-20"},"scheduler":{"name":"new mrf","priority":1,"added_by":"admin","date_created":"2017-05-20","project_status":1,"dueDate":"2017-05-20"}}',1,1,1)
[Sat, 20 May 17 20:35:26 +0200][INFO] ["35"]
[Sat, 20 May 17 20:35:26 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '35'
                
[Sat, 20 May 17 20:35:26 +0200][INFO] ["35"]
[Sat, 20 May 17 20:35:26 +0200][INFO] 
		SELECT workflow_data, audit_data, id
		FROM workflow.workflow_data
		WHERE
            `object_id` = '35'
                
[Sat, 20 May 17 20:35:26 +0200][INFO] [5,"task_manager"]
[Sat, 20 May 17 20:35:26 +0200][INFO] 
		SELECT *
		FROM auto_notifications
		WHERE
            `triggering_status` = 5
                 AND `system` = 'task_manager'
                
[Sat, 20 May 17 20:35:26 +0200][INFO] [5,"task_manager"]
[Sat, 20 May 17 20:35:26 +0200][INFO] 
		SELECT *
		FROM auto_notifications
		WHERE
            `triggering_status` = 5
                 AND `system` = 'task_manager'
                
[Sat, 20 May 17 20:35:26 +0200][INFO] ["35"]
[Sat, 20 May 17 20:35:26 +0200][INFO] UPDATE workflow.notifications_sent 
                                SET status = 2 
                                WHERE case_id = '35' 
                                AND status != 3
[Sat, 20 May 17 20:35:26 +0200][ERROR] PDOException: SQLSTATE[HY000]: General error
 File=C:\xampp\htdocs\core\app\library\Mysql.php
 Line=255
#0 [internal function]: PDOStatement->fetchAll()
#1 C:\xampp\htdocs\core\app\library\Mysql.php(255): Phalcon\Db\Result\Pdo->fetchAll()
#2 C:\xampp\htdocs\core\app\library\Mysql.php(156): Mysql2->queryDatabase('UPDATE workflow...', Array, true)
#3 C:\xampp\htdocs\core\app\library\Notifications\SendNotification.php(131): Mysql2->_query('UPDATE workflow...', Array)
#4 C:\xampp\htdocs\core\app\library\Notifications\SendNotification.php(114): SendNotification->save()
#5 C:\xampp\htdocs\core\app\library\WorkflowClasses\WorkflowStep.php(292): SendNotification->buildEmail(5, Array)
#6 C:\xampp\htdocs\core\app\library\WorkflowClasses\WorkflowStep.php(396): WorkflowStep->sendNotification(Object(Save), Array)
#7 C:\xampp\htdocs\core\app\library\WorkflowClasses\WorkflowStep.php(231): WorkflowStep->completeWorkflowObject(Object(Save), Array, false)
#8 C:\xampp\htdocs\FormBuilder\app\controllers\InboxController.php(275): WorkflowStep->save(Object(Save), Array)
#9 [internal function]: InboxController->saveNewCaseAction()
#10 [internal function]: Phalcon\Dispatcher->dispatch()
#11 C:\xampp\htdocs\FormBuilder\public\index.php(23): Phalcon\Mvc\Application->handle()
#12 {main}
[Sat, 20 May 17 20:35:26 +0200][INFO] INSERT INTO workflow.notifications_sent (subject,message,recipient,date_sent,project_id,case_id,status,step_id) VALUES ('Project new mrf has been accepted by admin [id]','Project new mrf has been accepted by admin 1 2017-05-20 MRF Start','bluetiger_uan@yahoo.com','2017-05-20 20:35:26','35','35',1,5)
[Sat, 20 May 17 20:35:26 +0200][INFO] INSERT INTO workflow.workflow_data (workflow_data,audit_data,object_id) VALUES ('{"request_id":"4","current_step":"36","status":"SAVED","workflow_id":"8","elements":{"35":{"request_id":"4","current_step":"36","status":"SAVED","workflow_id":"8"}}}','{"elements":{"35":{"steps":{"36":{"claimed":"admin","dateCompleted":"2017-05-20 20:35:26","status":"NEW PROJECT"}}}}}','35')
[Sat, 20 May 17 20:36:28 +0200][INFO] ["8",1]
[Sat, 20 May 17 20:36:28 +0200][INFO] 
		SELECT id
		FROM workflow.status_mapping
		WHERE
            `workflow_id` = '8'
                 AND `first_step` = 1
                
[Sat, 20 May 17 20:36:28 +0200][INFO] ["36"]
[Sat, 20 May 17 20:36:28 +0200][INFO] SELECT
                    sy.system_name,
                    r.request_id,
                    m.workflow_id,
                    m.step_from AS current_step_id,
                    m.id AS current_step,
                    s.step_name AS current_step_name,
                    m2.id AS next_step_id,
                    s2.step_name AS  next_step_name,
                    w.workflow_name
                   FROM workflow.status_mapping m
                    INNER JOIN workflow.workflows w ON w.workflow_id = m.workflow_id
                    INNER JOIN workflow.steps s ON s.step_id = m.step_from
                    INNER JOIN workflow.request_types r ON r.request_id = w.request_id
                    INNER JOIN workflow.workflow_systems sy ON sy.system_id = r.system_id
                    LEFT JOIN workflow.status_mapping m2 ON m2.step_from = m.step_to AND m2.workflow_id = m.workflow_id
                    LEFT JOIN workflow.steps s2 ON s2.step_id = m2.step_from
                   WHERE m.id = '36'
[Sat, 20 May 17 20:36:28 +0200][INFO] ["23"]
[Sat, 20 May 17 20:36:28 +0200][INFO] SELECT r.*, f.* FROM workflow.required_fields r 
                    INNER JOIN workflow.fields f ON f.field_id = r.field_id
                    WHERE r.step_id = '23'
[Sat, 20 May 17 20:36:28 +0200][INFO] INSERT INTO task_manager.projects (step_data,priority,department_id,project_status) VALUES ('{"job":{"description":"mrf","name":"new mrf","priority":1,"deptId":1,"workflow":"8","added_by":"admin","date_created":"2017-05-20","project_status":1,"dueDate":"2017-05-20"},"scheduler":{"name":"new mrf","priority":1,"added_by":"admin","date_created":"2017-05-20","project_status":1,"dueDate":"2017-05-20"}}',1,1,1)
[Sat, 20 May 17 20:36:28 +0200][INFO] ["36"]
[Sat, 20 May 17 20:36:28 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '36'
                
[Sat, 20 May 17 20:36:28 +0200][INFO] ["36"]
[Sat, 20 May 17 20:36:28 +0200][INFO] 
		SELECT workflow_data, audit_data, id
		FROM workflow.workflow_data
		WHERE
            `object_id` = '36'
                
[Sat, 20 May 17 20:36:28 +0200][INFO] [5,"task_manager"]
[Sat, 20 May 17 20:36:28 +0200][INFO] 
		SELECT *
		FROM auto_notifications
		WHERE
            `triggering_status` = 5
                 AND `system` = 'task_manager'
                
[Sat, 20 May 17 20:36:28 +0200][INFO] [5,"task_manager"]
[Sat, 20 May 17 20:36:28 +0200][INFO] 
		SELECT *
		FROM auto_notifications
		WHERE
            `triggering_status` = 5
                 AND `system` = 'task_manager'
                
[Sat, 20 May 17 20:36:28 +0200][INFO] ["36"]
[Sat, 20 May 17 20:36:28 +0200][INFO] UPDATE workflow.notifications_sent 
                                SET status = 2 
                                WHERE case_id = '36' 
                                AND status != 3
[Sat, 20 May 17 20:36:28 +0200][ERROR] PDOException: SQLSTATE[HY000]: General error
 File=C:\xampp\htdocs\core\app\library\Mysql.php
 Line=255
#0 [internal function]: PDOStatement->fetchAll()
#1 C:\xampp\htdocs\core\app\library\Mysql.php(255): Phalcon\Db\Result\Pdo->fetchAll()
#2 C:\xampp\htdocs\core\app\library\Mysql.php(156): Mysql2->queryDatabase('UPDATE workflow...', Array, true)
#3 C:\xampp\htdocs\core\app\library\Notifications\SendNotification.php(131): Mysql2->_query('UPDATE workflow...', Array)
#4 C:\xampp\htdocs\core\app\library\Notifications\SendNotification.php(114): SendNotification->save()
#5 C:\xampp\htdocs\core\app\library\WorkflowClasses\WorkflowStep.php(292): SendNotification->buildEmail(5, Array)
#6 C:\xampp\htdocs\core\app\library\WorkflowClasses\WorkflowStep.php(396): WorkflowStep->sendNotification(Object(Save), Array)
#7 C:\xampp\htdocs\core\app\library\WorkflowClasses\WorkflowStep.php(231): WorkflowStep->completeWorkflowObject(Object(Save), Array, false)
#8 C:\xampp\htdocs\FormBuilder\app\controllers\InboxController.php(275): WorkflowStep->save(Object(Save), Array)
#9 [internal function]: InboxController->saveNewCaseAction()
#10 [internal function]: Phalcon\Dispatcher->dispatch()
#11 C:\xampp\htdocs\FormBuilder\public\index.php(23): Phalcon\Mvc\Application->handle()
#12 {main}
[Sat, 20 May 17 20:36:28 +0200][INFO] INSERT INTO workflow.notifications_sent (subject,message,recipient,date_sent,project_id,case_id,status,step_id) VALUES ('Project new mrf has been accepted by admin [id]','Project new mrf has been accepted by admin 1 2017-05-20 MRF Start','bluetiger_uan@yahoo.com','2017-05-20 20:36:28','36','36',1,5)
[Sat, 20 May 17 20:36:28 +0200][INFO] INSERT INTO workflow.workflow_data (workflow_data,audit_data,object_id) VALUES ('{"request_id":"4","current_step":"36","status":"SAVED","workflow_id":"8","elements":{"36":{"request_id":"4","current_step":"36","status":"SAVED","workflow_id":"8"}}}','{"elements":{"36":{"steps":{"36":{"claimed":"admin","dateCompleted":"2017-05-20 20:36:28","status":"NEW PROJECT"}}}}}','36')
[Sat, 20 May 17 20:37:26 +0200][INFO] ["8",1]
[Sat, 20 May 17 20:37:26 +0200][INFO] 
		SELECT id
		FROM workflow.status_mapping
		WHERE
            `workflow_id` = '8'
                 AND `first_step` = 1
                
[Sat, 20 May 17 20:37:26 +0200][INFO] ["36"]
[Sat, 20 May 17 20:37:26 +0200][INFO] SELECT
                    sy.system_name,
                    r.request_id,
                    m.workflow_id,
                    m.step_from AS current_step_id,
                    m.id AS current_step,
                    s.step_name AS current_step_name,
                    m2.id AS next_step_id,
                    s2.step_name AS  next_step_name,
                    w.workflow_name
                   FROM workflow.status_mapping m
                    INNER JOIN workflow.workflows w ON w.workflow_id = m.workflow_id
                    INNER JOIN workflow.steps s ON s.step_id = m.step_from
                    INNER JOIN workflow.request_types r ON r.request_id = w.request_id
                    INNER JOIN workflow.workflow_systems sy ON sy.system_id = r.system_id
                    LEFT JOIN workflow.status_mapping m2 ON m2.step_from = m.step_to AND m2.workflow_id = m.workflow_id
                    LEFT JOIN workflow.steps s2 ON s2.step_id = m2.step_from
                   WHERE m.id = '36'
[Sat, 20 May 17 20:37:26 +0200][INFO] ["23"]
[Sat, 20 May 17 20:37:26 +0200][INFO] SELECT r.*, f.* FROM workflow.required_fields r 
                    INNER JOIN workflow.fields f ON f.field_id = r.field_id
                    WHERE r.step_id = '23'
[Sat, 20 May 17 20:37:26 +0200][INFO] INSERT INTO task_manager.projects (step_data,priority,department_id,project_status) VALUES ('{"job":{"description":"mrf","name":"new mrf","priority":1,"deptId":1,"workflow":"8","added_by":"admin","date_created":"2017-05-20","project_status":1,"dueDate":"2017-05-20"},"scheduler":{"name":"new mrf","priority":1,"added_by":"admin","date_created":"2017-05-20","project_status":1,"dueDate":"2017-05-20"}}',1,1,1)
[Sat, 20 May 17 20:37:26 +0200][INFO] ["37"]
[Sat, 20 May 17 20:37:26 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '37'
                
[Sat, 20 May 17 20:37:26 +0200][INFO] ["37"]
[Sat, 20 May 17 20:37:26 +0200][INFO] 
		SELECT workflow_data, audit_data, id
		FROM workflow.workflow_data
		WHERE
            `object_id` = '37'
                
[Sat, 20 May 17 20:37:26 +0200][INFO] [5,"task_manager"]
[Sat, 20 May 17 20:37:26 +0200][INFO] 
		SELECT *
		FROM auto_notifications
		WHERE
            `triggering_status` = 5
                 AND `system` = 'task_manager'
                
[Sat, 20 May 17 20:37:26 +0200][INFO] [5,"task_manager"]
[Sat, 20 May 17 20:37:26 +0200][INFO] 
		SELECT *
		FROM auto_notifications
		WHERE
            `triggering_status` = 5
                 AND `system` = 'task_manager'
                
[Sat, 20 May 17 20:37:26 +0200][INFO] ["37"]
[Sat, 20 May 17 20:37:26 +0200][INFO] UPDATE workflow.notifications_sent 
                                SET status = 2 
                                WHERE case_id = '37' 
                                AND status != 3
[Sat, 20 May 17 20:37:26 +0200][ERROR] PDOException: SQLSTATE[HY000]: General error
 File=C:\xampp\htdocs\core\app\library\Mysql.php
 Line=255
#0 [internal function]: PDOStatement->fetchAll()
#1 C:\xampp\htdocs\core\app\library\Mysql.php(255): Phalcon\Db\Result\Pdo->fetchAll()
#2 C:\xampp\htdocs\core\app\library\Mysql.php(156): Mysql2->queryDatabase('UPDATE workflow...', Array, true)
#3 C:\xampp\htdocs\core\app\library\Notifications\SendNotification.php(131): Mysql2->_query('UPDATE workflow...', Array)
#4 C:\xampp\htdocs\core\app\library\Notifications\SendNotification.php(114): SendNotification->save()
#5 C:\xampp\htdocs\core\app\library\WorkflowClasses\WorkflowStep.php(292): SendNotification->buildEmail(5, Array)
#6 C:\xampp\htdocs\core\app\library\WorkflowClasses\WorkflowStep.php(396): WorkflowStep->sendNotification(Object(Save), Array)
#7 C:\xampp\htdocs\core\app\library\WorkflowClasses\WorkflowStep.php(231): WorkflowStep->completeWorkflowObject(Object(Save), Array, false)
#8 C:\xampp\htdocs\FormBuilder\app\controllers\InboxController.php(275): WorkflowStep->save(Object(Save), Array)
#9 [internal function]: InboxController->saveNewCaseAction()
#10 [internal function]: Phalcon\Dispatcher->dispatch()
#11 C:\xampp\htdocs\FormBuilder\public\index.php(23): Phalcon\Mvc\Application->handle()
#12 {main}
[Sat, 20 May 17 20:37:26 +0200][INFO] INSERT INTO workflow.notifications_sent (subject,message,recipient,date_sent,project_id,case_id,status,step_id) VALUES ('Project new mrf has been accepted by admin [id]','Project new mrf has been accepted by admin 1 2017-05-20 MRF Start','bluetiger_uan@yahoo.com','2017-05-20 20:37:26','37','37',1,5)
[Sat, 20 May 17 20:37:27 +0200][INFO] INSERT INTO workflow.workflow_data (workflow_data,audit_data,object_id) VALUES ('{"request_id":"4","current_step":"36","status":"SAVED","workflow_id":"8","elements":{"37":{"request_id":"4","current_step":"36","status":"SAVED","workflow_id":"8"}}}','{"elements":{"37":{"steps":{"36":{"claimed":"admin","dateCompleted":"2017-05-20 20:37:26","status":"NEW PROJECT"}}}}}','37')
[Sat, 20 May 17 20:37:27 +0200][INFO] INSERT INTO task_manager.attachments (source_id,date_uploaded,uploaded_by,file_destination,prf_type,prf_editable,file_type,filename) VALUES ('26','2017-05-20 20:37:27','admin','C:/xampp/htdocs/FormBuilder/public/uploads/26/michael.jpg','file',,,'michael.jpg')
[Sat, 20 May 17 20:37:27 +0200][INFO] ["288"]
[Sat, 20 May 17 20:37:27 +0200][INFO] 
		SELECT *
		FROM task_manager.attachments
		WHERE
            `id` = '288'
                
[Sat, 20 May 17 20:37:27 +0200][INFO] ["37"]
[Sat, 20 May 17 20:37:27 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '37'
                
[Sat, 20 May 17 20:37:27 +0200][INFO] ["37"]
[Sat, 20 May 17 20:37:27 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '37'
                
[Sat, 20 May 17 20:37:27 +0200][INFO] ["8",1]
[Sat, 20 May 17 20:37:27 +0200][INFO] 
		SELECT id
		FROM workflow.status_mapping
		WHERE
            `workflow_id` = '8'
                 AND `first_step` = 1
                
[Sat, 20 May 17 20:37:27 +0200][INFO] ["36"]
[Sat, 20 May 17 20:37:27 +0200][INFO] SELECT
                    sy.system_name,
                    r.request_id,
                    m.workflow_id,
                    m.step_from AS current_step_id,
                    m.id AS current_step,
                    s.step_name AS current_step_name,
                    m2.id AS next_step_id,
                    s2.step_name AS  next_step_name,
                    w.workflow_name
                   FROM workflow.status_mapping m
                    INNER JOIN workflow.workflows w ON w.workflow_id = m.workflow_id
                    INNER JOIN workflow.steps s ON s.step_id = m.step_from
                    INNER JOIN workflow.request_types r ON r.request_id = w.request_id
                    INNER JOIN workflow.workflow_systems sy ON sy.system_id = r.system_id
                    LEFT JOIN workflow.status_mapping m2 ON m2.step_from = m.step_to AND m2.workflow_id = m.workflow_id
                    LEFT JOIN workflow.steps s2 ON s2.step_id = m2.step_from
                   WHERE m.id = '36'
[Sat, 20 May 17 20:37:27 +0200][INFO] ["23"]
[Sat, 20 May 17 20:37:27 +0200][INFO] SELECT r.*, f.* FROM workflow.required_fields r 
                    INNER JOIN workflow.fields f ON f.field_id = r.field_id
                    WHERE r.step_id = '23'
[Sat, 20 May 17 20:37:27 +0200][INFO] ["37"]
[Sat, 20 May 17 20:37:27 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '37'
                
[Sat, 20 May 17 20:37:27 +0200][INFO] ["37"]
[Sat, 20 May 17 20:37:27 +0200][INFO] 
		SELECT *
		FROM workflow.workflow_data
		WHERE
            `object_id` = '37'
                
[Sat, 20 May 17 20:37:27 +0200][INFO] UPDATE task_manager.projects SET `step_data`='{"job":{"description":"mrf","name":"new mrf","priority":1,"deptId":1,"workflow":"8","added_by":"admin","date_created":"2017-05-20","project_status":1,"dueDate":"2017-05-20"},"scheduler":{"name":"new mrf","priority":1,"added_by":"admin","date_created":"2017-05-20","project_status":1,"dueDate":"2017-05-20","id":1,"status":"Not Started","backlogs":{"1":{"name":"new mrf","description":"mrf"}}},"elements":{"1":{"name":"new mrf","description":"mrf","source_id":"37","workflow_id":"8"}}}' WHERE id='37'
[Sat, 20 May 17 20:37:27 +0200][INFO] ["37"]
[Sat, 20 May 17 20:37:27 +0200][INFO] 
		SELECT workflow_data, audit_data, id
		FROM workflow.workflow_data
		WHERE
            `object_id` = '37'
                
[Sat, 20 May 17 20:37:27 +0200][INFO] [5,"task_manager"]
[Sat, 20 May 17 20:37:27 +0200][INFO] 
		SELECT *
		FROM auto_notifications
		WHERE
            `triggering_status` = 5
                 AND `system` = 'task_manager'
                
[Sat, 20 May 17 20:37:27 +0200][INFO] [5,"task_manager"]
[Sat, 20 May 17 20:37:27 +0200][INFO] 
		SELECT *
		FROM auto_notifications
		WHERE
            `triggering_status` = 5
                 AND `system` = 'task_manager'
                
[Sat, 20 May 17 20:37:27 +0200][INFO] [1]
[Sat, 20 May 17 20:37:27 +0200][INFO] UPDATE workflow.notifications_sent 
                                SET status = 2 
                                WHERE case_id = 1 
                                AND status != 3
[Sat, 20 May 17 20:37:27 +0200][ERROR] PDOException: SQLSTATE[HY000]: General error
 File=C:\xampp\htdocs\core\app\library\Mysql.php
 Line=255
#0 [internal function]: PDOStatement->fetchAll()
#1 C:\xampp\htdocs\core\app\library\Mysql.php(255): Phalcon\Db\Result\Pdo->fetchAll()
#2 C:\xampp\htdocs\core\app\library\Mysql.php(156): Mysql2->queryDatabase('UPDATE workflow...', Array, true)
#3 C:\xampp\htdocs\core\app\library\Notifications\SendNotification.php(131): Mysql2->_query('UPDATE workflow...', Array)
#4 C:\xampp\htdocs\core\app\library\Notifications\SendNotification.php(114): SendNotification->save()
#5 C:\xampp\htdocs\core\app\library\WorkflowClasses\WorkflowStep.php(292): SendNotification->buildEmail(5, Array)
#6 C:\xampp\htdocs\core\app\library\WorkflowClasses\WorkflowStep.php(396): WorkflowStep->sendNotification(Object(Elements), Array)
#7 C:\xampp\htdocs\core\app\library\WorkflowClasses\WorkflowStep.php(231): WorkflowStep->completeWorkflowObject(Object(Elements), Array, false)
#8 C:\xampp\htdocs\FormBuilder\app\controllers\InboxController.php(330): WorkflowStep->save(Object(Elements), Array)
#9 [internal function]: InboxController->saveNewCaseAction()
#10 [internal function]: Phalcon\Dispatcher->dispatch()
#11 C:\xampp\htdocs\FormBuilder\public\index.php(23): Phalcon\Mvc\Application->handle()
#12 {main}
[Sat, 20 May 17 20:37:27 +0200][INFO] INSERT INTO workflow.notifications_sent (subject,message,recipient,date_sent,project_id,case_id,status,step_id) VALUES ('Project new mrf has been accepted by [added_by] [id]','Project new mrf has been accepted by [added_by] [priority] [dueDate] MRF Start','bluetiger_uan@yahoo.com','2017-05-20 20:37:27','37',1,1,5)
[Sat, 20 May 17 20:37:27 +0200][INFO] UPDATE workflow.workflow_data SET `workflow_data`='{"request_id":"4","current_step":"36","status":"SAVED","workflow_id":"8","elements":{"37":{"request_id":"4","current_step":"36","status":"SAVED","workflow_id":"8"},"1":{"request_id":"4","current_step":"36","status":"SAVED","workflow_id":"8"}}}',`audit_data`='{"elements":{"37":{"steps":{"36":{"claimed":"admin","dateCompleted":"2017-05-20 20:37:26","status":"NEW PROJECT"}}},"1":{"steps":{"36":{"claimed":"admin","dateCompleted":"2017-05-20 20:37:27","status":"NEW"}}}}}' WHERE object_id='37'
[Sat, 20 May 17 20:37:51 +0200][INFO] []
[Sat, 20 May 17 20:37:51 +0200][INFO] SELECT *
		FROM departments
		ORDER BY
            department ASC
[Sat, 20 May 17 20:37:51 +0200][INFO] []
[Sat, 20 May 17 20:37:51 +0200][INFO] SELECT p.*, 
                        pri.name AS priority_name, 
                        pri.style, 
                        COUNT(a.id) AS attachmentCount, 
                        COUNT(c.id) AS commentCount 
                FROM projects p 
                INNER JOIN priority pri ON pri.id = p.priority
                LEFT JOIN attachments a ON a.source_id = p.id
                INNER JOIN departments d ON d.id = p.department_id
                LEFT JOIN comments c ON c.source_id = p.id GROUP BY p.id ORDER BY id DESC
[Sat, 20 May 17 20:37:51 +0200][INFO] ["37"]
[Sat, 20 May 17 20:37:51 +0200][INFO] 
		SELECT *
		FROM workflow.workflow_data
		WHERE
            `object_id` = '37'
                
[Sat, 20 May 17 20:37:51 +0200][INFO] []
[Sat, 20 May 17 20:37:51 +0200][INFO] SELECT * FROM user_management.poms_users ORDER BY team_id, username ASC
[Sat, 20 May 17 20:37:51 +0200][INFO] []
[Sat, 20 May 17 20:37:51 +0200][INFO] 
		SELECT *
		FROM priority
		
[Sat, 20 May 17 20:37:51 +0200][INFO] ["central"]
[Sat, 20 May 17 20:37:51 +0200][INFO] SELECT * FROM workflow.request_types r
                INNER JOIN workflow.workflow_systems s ON s.system_id = r.system_id
                WHERE s.system_name = 'central'
[Sat, 20 May 17 20:37:52 +0200][INFO] []
[Sat, 20 May 17 20:37:52 +0200][INFO] SELECT p.*, 
                        pri.name AS priority_name, 
                        pri.style, 
                        COUNT(a.id) AS attachmentCount, 
                        COUNT(c.id) AS commentCount 
                FROM projects p 
                INNER JOIN priority pri ON pri.id = p.priority
                LEFT JOIN attachments a ON a.source_id = p.id
                INNER JOIN departments d ON d.id = p.department_id
                LEFT JOIN comments c ON c.source_id = p.id WHERE 1=1  GROUP BY p.id ORDER BY id DESC
[Sat, 20 May 17 20:37:52 +0200][INFO] ["37"]
[Sat, 20 May 17 20:37:52 +0200][INFO] 
		SELECT *
		FROM workflow.workflow_data
		WHERE
            `object_id` = '37'
                
[Sat, 20 May 17 20:37:53 +0200][INFO] ["37"]
[Sat, 20 May 17 20:37:53 +0200][INFO] SELECT p.*, 
                        pri.name AS priority_name, 
                        pri.style, 
                        COUNT(a.id) AS attachmentCount, 
                        COUNT(c.id) AS commentCount 
                FROM projects p 
                INNER JOIN priority pri ON pri.id = p.priority
                LEFT JOIN attachments a ON a.source_id = p.id
                INNER JOIN departments d ON d.id = p.department_id
                LEFT JOIN comments c ON c.source_id = p.id WHERE 1=1  AND p.id = '37' GROUP BY p.id ORDER BY id DESC
[Sat, 20 May 17 20:37:53 +0200][INFO] ["37"]
[Sat, 20 May 17 20:37:53 +0200][INFO] 
		SELECT *
		FROM workflow.workflow_data
		WHERE
            `object_id` = '37'
                
[Sat, 20 May 17 20:37:53 +0200][INFO] []
[Sat, 20 May 17 20:37:53 +0200][INFO] 
		SELECT *
		FROM priority
		
[Sat, 20 May 17 20:37:53 +0200][INFO] ["37"]
[Sat, 20 May 17 20:37:53 +0200][INFO] 
		SELECT *
		FROM task_manager.attachments
		WHERE
            `source_id` = '37'
                
[Sat, 20 May 17 20:37:53 +0200][INFO] ["37"]
[Sat, 20 May 17 20:37:53 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '37'
                
[Sat, 20 May 17 20:37:53 +0200][INFO] ["37"]
[Sat, 20 May 17 20:37:53 +0200][INFO] 
		SELECT *
		FROM workflow.workflow_data
		WHERE
            `object_id` = '37'
                
[Sat, 20 May 17 20:37:53 +0200][INFO] ["37"]
[Sat, 20 May 17 20:37:53 +0200][INFO] 
		SELECT *
		FROM projects
		WHERE
            `id` = '37'
                
[Sat, 20 May 17 20:37:53 +0200][INFO] ["36"]
[Sat, 20 May 17 20:37:53 +0200][INFO] SELECT
                    sy.system_name,
                    r.request_id,
                    m.workflow_id,
                    m.step_from AS current_step_id,
                    m.id AS current_step,
                    s.step_name AS current_step_name,
                    m2.id AS next_step_id,
                    s2.step_name AS  next_step_name,
                    w.workflow_name
                   FROM workflow.status_mapping m
                    INNER JOIN workflow.workflows w ON w.workflow_id = m.workflow_id
                    INNER JOIN workflow.steps s ON s.step_id = m.step_from
                    INNER JOIN workflow.request_types r ON r.request_id = w.request_id
                    INNER JOIN workflow.workflow_systems sy ON sy.system_id = r.system_id
                    LEFT JOIN workflow.status_mapping m2 ON m2.step_from = m.step_to AND m2.workflow_id = m.workflow_id
                    LEFT JOIN workflow.steps s2 ON s2.step_id = m2.step_from
                   WHERE m.id = '36'
[Sat, 20 May 17 20:37:53 +0200][INFO] ["36"]
[Sat, 20 May 17 20:37:53 +0200][INFO] SELECT
                    sy.system_name,
                    r.request_id,
                    m.workflow_id,
                    m.step_from AS current_step_id,
                    m.id AS current_step,
                    s.step_name AS current_step_name,
                    m2.id AS next_step_id,
                    s2.step_name AS  next_step_name,
                    w.workflow_name
                   FROM workflow.status_mapping m
                    INNER JOIN workflow.workflows w ON w.workflow_id = m.workflow_id
                    INNER JOIN workflow.steps s ON s.step_id = m.step_from
                    INNER JOIN workflow.request_types r ON r.request_id = w.request_id
                    INNER JOIN workflow.workflow_systems sy ON sy.system_id = r.system_id
                    LEFT JOIN workflow.status_mapping m2 ON m2.step_from = m.step_to AND m2.workflow_id = m.workflow_id
                    LEFT JOIN workflow.steps s2 ON s2.step_id = m2.step_from
                   WHERE m.id = '36'
[Sat, 20 May 17 20:37:53 +0200][INFO] ["37"]
[Sat, 20 May 17 20:37:53 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '37'
                
[Sat, 20 May 17 20:37:53 +0200][INFO] ["37"]
[Sat, 20 May 17 20:37:53 +0200][INFO] 
		SELECT *
		FROM workflow.workflow_data
		WHERE
            `object_id` = '37'
                
[Sat, 20 May 17 20:37:53 +0200][INFO] ["37"]
[Sat, 20 May 17 20:37:53 +0200][INFO] 
		SELECT *
		FROM projects
		WHERE
            `id` = '37'
                
[Sat, 20 May 17 20:37:53 +0200][INFO] ["4"]
[Sat, 20 May 17 20:37:53 +0200][INFO] SELECT w.* FROM workflow.workflows w
                INNER JOIN workflow.request_types r ON r.request_id = w.`request_id`
                                    WHERE w.request_id = '4'
[Sat, 20 May 17 20:37:53 +0200][INFO] ["37"]
[Sat, 20 May 17 20:37:53 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '37'
                
[Sat, 20 May 17 20:37:53 +0200][INFO] ["37"]
[Sat, 20 May 17 20:37:53 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '37'
                
[Sat, 20 May 17 20:37:53 +0200][INFO] ["37"]
[Sat, 20 May 17 20:37:53 +0200][INFO] 
		SELECT workflow_data
		FROM workflow.workflow_data
		WHERE
            `object_id` = '37'
                
[Sat, 20 May 17 20:37:53 +0200][INFO] ["37"]
[Sat, 20 May 17 20:37:53 +0200][INFO] 
		SELECT workflow_data
		FROM workflow.workflow_data
		WHERE
            `object_id` = '37'
                
[Sat, 20 May 17 20:37:53 +0200][INFO] ["36"]
[Sat, 20 May 17 20:37:53 +0200][INFO] SELECT
                    sy.system_name,
                    r.request_id,
                    m.workflow_id,
                    m.step_from AS current_step_id,
                    m.id AS current_step,
                    s.step_name AS current_step_name,
                    m2.id AS next_step_id,
                    s2.step_name AS  next_step_name,
                    w.workflow_name
                   FROM workflow.status_mapping m
                    INNER JOIN workflow.workflows w ON w.workflow_id = m.workflow_id
                    INNER JOIN workflow.steps s ON s.step_id = m.step_from
                    INNER JOIN workflow.request_types r ON r.request_id = w.request_id
                    INNER JOIN workflow.workflow_systems sy ON sy.system_id = r.system_id
                    LEFT JOIN workflow.status_mapping m2 ON m2.step_from = m.step_to AND m2.workflow_id = m.workflow_id
                    LEFT JOIN workflow.steps s2 ON s2.step_id = m2.step_from
                   WHERE m.id = '36'
[Sat, 20 May 17 20:37:53 +0200][INFO] ["8"]
[Sat, 20 May 17 20:37:53 +0200][INFO] SELECT s.*, m.step_condition, m.first_step, m.step_from, m.step_to, m.id FROM workflow.status_mapping m
                                                INNER JOIN workflow.steps s ON s.step_id = m.step_from
                                                WHERE m.workflow_id = '8'
                                                ORDER BY m.order_id ASC
[Sat, 20 May 17 20:38:01 +0200][INFO] ["7",1]
[Sat, 20 May 17 20:38:01 +0200][INFO] 
		SELECT id
		FROM workflow.status_mapping
		WHERE
            `workflow_id` = '7'
                 AND `first_step` = 1
                
[Sat, 20 May 17 20:38:01 +0200][INFO] ["15"]
[Sat, 20 May 17 20:38:01 +0200][INFO] SELECT
                    sy.system_name,
                    r.request_id,
                    m.workflow_id,
                    m.step_from AS current_step_id,
                    m.id AS current_step,
                    s.step_name AS current_step_name,
                    m2.id AS next_step_id,
                    s2.step_name AS  next_step_name,
                    w.workflow_name
                   FROM workflow.status_mapping m
                    INNER JOIN workflow.workflows w ON w.workflow_id = m.workflow_id
                    INNER JOIN workflow.steps s ON s.step_id = m.step_from
                    INNER JOIN workflow.request_types r ON r.request_id = w.request_id
                    INNER JOIN workflow.workflow_systems sy ON sy.system_id = r.system_id
                    LEFT JOIN workflow.status_mapping m2 ON m2.step_from = m.step_to AND m2.workflow_id = m.workflow_id
                    LEFT JOIN workflow.steps s2 ON s2.step_id = m2.step_from
                   WHERE m.id = '15'
[Sat, 20 May 17 20:38:01 +0200][INFO] ["10"]
[Sat, 20 May 17 20:38:01 +0200][INFO] SELECT sf.*, f.*, ft.field_type, dt.options, dt.data_object_type,
                IF(rf.field_id IS NOT NULL, 1, 0) as required_field, sf.field_conditions 
                FROM workflow.step_fields sf 
                INNER JOIN workflow.fields f ON f.field_id = sf.field_id 
                INNER JOIN workflow.field_types ft ON ft.field_type_id = f.field_type 
                LEFT JOIN workflow.data_types dt ON dt.id = f.data_type 
                LEFT JOIN workflow.required_fields rf on rf.field_id = f.field_id
                WHERE sf.step_id = '10' 
                GROUP BY f.field_id
                ORDER BY sf.order_id
[Sat, 20 May 17 20:38:01 +0200][INFO] []
[Sat, 20 May 17 20:38:01 +0200][INFO] SELECT * FROM task_manager.priority
[Sat, 20 May 17 20:38:15 +0200][INFO] ["7",1]
[Sat, 20 May 17 20:38:15 +0200][INFO] 
		SELECT id
		FROM workflow.status_mapping
		WHERE
            `workflow_id` = '7'
                 AND `first_step` = 1
                
[Sat, 20 May 17 20:38:15 +0200][INFO] ["15"]
[Sat, 20 May 17 20:38:15 +0200][INFO] SELECT
                    sy.system_name,
                    r.request_id,
                    m.workflow_id,
                    m.step_from AS current_step_id,
                    m.id AS current_step,
                    s.step_name AS current_step_name,
                    m2.id AS next_step_id,
                    s2.step_name AS  next_step_name,
                    w.workflow_name
                   FROM workflow.status_mapping m
                    INNER JOIN workflow.workflows w ON w.workflow_id = m.workflow_id
                    INNER JOIN workflow.steps s ON s.step_id = m.step_from
                    INNER JOIN workflow.request_types r ON r.request_id = w.request_id
                    INNER JOIN workflow.workflow_systems sy ON sy.system_id = r.system_id
                    LEFT JOIN workflow.status_mapping m2 ON m2.step_from = m.step_to AND m2.workflow_id = m.workflow_id
                    LEFT JOIN workflow.steps s2 ON s2.step_id = m2.step_from
                   WHERE m.id = '15'
[Sat, 20 May 17 20:38:15 +0200][INFO] ["10"]
[Sat, 20 May 17 20:38:15 +0200][INFO] SELECT r.*, f.* FROM workflow.required_fields r 
                    INNER JOIN workflow.fields f ON f.field_id = r.field_id
                    WHERE r.step_id = '10'
[Sat, 20 May 17 20:38:15 +0200][INFO] INSERT INTO task_manager.projects (step_data,priority,department_id,project_status) VALUES ('{"job":{"description":"test sample","name":"new sample","priority":1,"deptId":1,"workflow":"7","added_by":"admin","date_created":"2017-05-20","project_status":1,"dueDate":"2017-05-20"},"scheduler":{"name":"new sample","priority":1,"added_by":"admin","date_created":"2017-05-20","project_status":1,"dueDate":"2017-05-20"}}',1,1,1)
[Sat, 20 May 17 20:38:15 +0200][INFO] ["38"]
[Sat, 20 May 17 20:38:15 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '38'
                
[Sat, 20 May 17 20:38:15 +0200][INFO] ["38"]
[Sat, 20 May 17 20:38:15 +0200][INFO] 
		SELECT workflow_data, audit_data, id
		FROM workflow.workflow_data
		WHERE
            `object_id` = '38'
                
[Sat, 20 May 17 20:38:15 +0200][INFO] [5,"task_manager"]
[Sat, 20 May 17 20:38:15 +0200][INFO] 
		SELECT *
		FROM auto_notifications
		WHERE
            `triggering_status` = 5
                 AND `system` = 'task_manager'
                
[Sat, 20 May 17 20:38:15 +0200][INFO] [5,"task_manager"]
[Sat, 20 May 17 20:38:15 +0200][INFO] 
		SELECT *
		FROM auto_notifications
		WHERE
            `triggering_status` = 5
                 AND `system` = 'task_manager'
                
[Sat, 20 May 17 20:38:15 +0200][INFO] ["38"]
[Sat, 20 May 17 20:38:15 +0200][INFO] UPDATE workflow.notifications_sent 
                                SET status = 2 
                                WHERE case_id = '38' 
                                AND status != 3
[Sat, 20 May 17 20:38:15 +0200][ERROR] PDOException: SQLSTATE[HY000]: General error
 File=C:\xampp\htdocs\core\app\library\Mysql.php
 Line=255
#0 [internal function]: PDOStatement->fetchAll()
#1 C:\xampp\htdocs\core\app\library\Mysql.php(255): Phalcon\Db\Result\Pdo->fetchAll()
#2 C:\xampp\htdocs\core\app\library\Mysql.php(156): Mysql2->queryDatabase('UPDATE workflow...', Array, true)
#3 C:\xampp\htdocs\core\app\library\Notifications\SendNotification.php(131): Mysql2->_query('UPDATE workflow...', Array)
#4 C:\xampp\htdocs\core\app\library\Notifications\SendNotification.php(114): SendNotification->save()
#5 C:\xampp\htdocs\core\app\library\WorkflowClasses\WorkflowStep.php(292): SendNotification->buildEmail(5, Array)
#6 C:\xampp\htdocs\core\app\library\WorkflowClasses\WorkflowStep.php(396): WorkflowStep->sendNotification(Object(Save), Array)
#7 C:\xampp\htdocs\core\app\library\WorkflowClasses\WorkflowStep.php(231): WorkflowStep->completeWorkflowObject(Object(Save), Array, false)
#8 C:\xampp\htdocs\FormBuilder\app\controllers\InboxController.php(275): WorkflowStep->save(Object(Save), Array)
#9 [internal function]: InboxController->saveNewCaseAction()
#10 [internal function]: Phalcon\Dispatcher->dispatch()
#11 C:\xampp\htdocs\FormBuilder\public\index.php(23): Phalcon\Mvc\Application->handle()
#12 {main}
[Sat, 20 May 17 20:38:16 +0200][INFO] INSERT INTO workflow.notifications_sent (subject,message,recipient,date_sent,project_id,case_id,status,step_id) VALUES ('Project new sample has been accepted by admin [id]','Project new sample has been accepted by admin 1 2017-05-20 Sample Start Sample','bluetiger_uan@yahoo.com','2017-05-20 20:38:15','38','38',1,5)
[Sat, 20 May 17 20:38:16 +0200][INFO] INSERT INTO workflow.workflow_data (workflow_data,audit_data,object_id) VALUES ('{"request_id":"4","current_step":"15","status":"SAVED","workflow_id":"7","elements":{"38":{"request_id":"4","current_step":"15","status":"SAVED","workflow_id":"7"}}}','{"elements":{"38":{"steps":{"15":{"claimed":"admin","dateCompleted":"2017-05-20 20:38:15","status":"NEW PROJECT"}}}}}','38')
[Sat, 20 May 17 20:38:16 +0200][INFO] ["38"]
[Sat, 20 May 17 20:38:16 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '38'
                
[Sat, 20 May 17 20:38:16 +0200][INFO] ["38"]
[Sat, 20 May 17 20:38:16 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '38'
                
[Sat, 20 May 17 20:38:16 +0200][INFO] ["7",1]
[Sat, 20 May 17 20:38:16 +0200][INFO] 
		SELECT id
		FROM workflow.status_mapping
		WHERE
            `workflow_id` = '7'
                 AND `first_step` = 1
                
[Sat, 20 May 17 20:38:16 +0200][INFO] ["15"]
[Sat, 20 May 17 20:38:16 +0200][INFO] SELECT
                    sy.system_name,
                    r.request_id,
                    m.workflow_id,
                    m.step_from AS current_step_id,
                    m.id AS current_step,
                    s.step_name AS current_step_name,
                    m2.id AS next_step_id,
                    s2.step_name AS  next_step_name,
                    w.workflow_name
                   FROM workflow.status_mapping m
                    INNER JOIN workflow.workflows w ON w.workflow_id = m.workflow_id
                    INNER JOIN workflow.steps s ON s.step_id = m.step_from
                    INNER JOIN workflow.request_types r ON r.request_id = w.request_id
                    INNER JOIN workflow.workflow_systems sy ON sy.system_id = r.system_id
                    LEFT JOIN workflow.status_mapping m2 ON m2.step_from = m.step_to AND m2.workflow_id = m.workflow_id
                    LEFT JOIN workflow.steps s2 ON s2.step_id = m2.step_from
                   WHERE m.id = '15'
[Sat, 20 May 17 20:38:16 +0200][INFO] ["10"]
[Sat, 20 May 17 20:38:16 +0200][INFO] SELECT r.*, f.* FROM workflow.required_fields r 
                    INNER JOIN workflow.fields f ON f.field_id = r.field_id
                    WHERE r.step_id = '10'
[Sat, 20 May 17 20:38:16 +0200][INFO] ["38"]
[Sat, 20 May 17 20:38:16 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '38'
                
[Sat, 20 May 17 20:38:16 +0200][INFO] ["38"]
[Sat, 20 May 17 20:38:16 +0200][INFO] 
		SELECT *
		FROM workflow.workflow_data
		WHERE
            `object_id` = '38'
                
[Sat, 20 May 17 20:38:16 +0200][INFO] UPDATE task_manager.projects SET `step_data`='{"job":{"description":"test sample","name":"new sample","priority":1,"deptId":1,"workflow":"7","added_by":"admin","date_created":"2017-05-20","project_status":1,"dueDate":"2017-05-20"},"scheduler":{"name":"new sample","priority":1,"added_by":"admin","date_created":"2017-05-20","project_status":1,"dueDate":"2017-05-20","id":1,"status":"Not Started","backlogs":{"1":{"name":"new sample","description":"test sample"}}},"elements":{"1":{"name":"new sample","description":"test sample","location":"location","batch":"batch","source_id":"38","workflow_id":"7"}}}' WHERE id='38'
[Sat, 20 May 17 20:38:16 +0200][INFO] ["38"]
[Sat, 20 May 17 20:38:16 +0200][INFO] 
		SELECT workflow_data, audit_data, id
		FROM workflow.workflow_data
		WHERE
            `object_id` = '38'
                
[Sat, 20 May 17 20:38:16 +0200][INFO] [5,"task_manager"]
[Sat, 20 May 17 20:38:16 +0200][INFO] 
		SELECT *
		FROM auto_notifications
		WHERE
            `triggering_status` = 5
                 AND `system` = 'task_manager'
                
[Sat, 20 May 17 20:38:16 +0200][INFO] [5,"task_manager"]
[Sat, 20 May 17 20:38:16 +0200][INFO] 
		SELECT *
		FROM auto_notifications
		WHERE
            `triggering_status` = 5
                 AND `system` = 'task_manager'
                
[Sat, 20 May 17 20:38:16 +0200][INFO] [1]
[Sat, 20 May 17 20:38:16 +0200][INFO] UPDATE workflow.notifications_sent 
                                SET status = 2 
                                WHERE case_id = 1 
                                AND status != 3
[Sat, 20 May 17 20:38:16 +0200][ERROR] PDOException: SQLSTATE[HY000]: General error
 File=C:\xampp\htdocs\core\app\library\Mysql.php
 Line=255
#0 [internal function]: PDOStatement->fetchAll()
#1 C:\xampp\htdocs\core\app\library\Mysql.php(255): Phalcon\Db\Result\Pdo->fetchAll()
#2 C:\xampp\htdocs\core\app\library\Mysql.php(156): Mysql2->queryDatabase('UPDATE workflow...', Array, true)
#3 C:\xampp\htdocs\core\app\library\Notifications\SendNotification.php(131): Mysql2->_query('UPDATE workflow...', Array)
#4 C:\xampp\htdocs\core\app\library\Notifications\SendNotification.php(114): SendNotification->save()
#5 C:\xampp\htdocs\core\app\library\WorkflowClasses\WorkflowStep.php(292): SendNotification->buildEmail(5, Array)
#6 C:\xampp\htdocs\core\app\library\WorkflowClasses\WorkflowStep.php(396): WorkflowStep->sendNotification(Object(Elements), Array)
#7 C:\xampp\htdocs\core\app\library\WorkflowClasses\WorkflowStep.php(231): WorkflowStep->completeWorkflowObject(Object(Elements), Array, false)
#8 C:\xampp\htdocs\FormBuilder\app\controllers\InboxController.php(330): WorkflowStep->save(Object(Elements), Array)
#9 [internal function]: InboxController->saveNewCaseAction()
#10 [internal function]: Phalcon\Dispatcher->dispatch()
#11 C:\xampp\htdocs\FormBuilder\public\index.php(23): Phalcon\Mvc\Application->handle()
#12 {main}
[Sat, 20 May 17 20:38:16 +0200][INFO] INSERT INTO workflow.notifications_sent (subject,message,recipient,date_sent,project_id,case_id,status,step_id) VALUES ('Project new sample has been accepted by [added_by] [id]','Project new sample has been accepted by [added_by] [priority] [dueDate] Sample Start Sample','bluetiger_uan@yahoo.com','2017-05-20 20:38:16','38',1,1,5)
[Sat, 20 May 17 20:38:16 +0200][INFO] UPDATE workflow.workflow_data SET `workflow_data`='{"request_id":"4","current_step":"15","status":"SAVED","workflow_id":"7","elements":{"38":{"request_id":"4","current_step":"15","status":"SAVED","workflow_id":"7"},"1":{"request_id":"4","current_step":"15","status":"SAVED","workflow_id":"7"}}}',`audit_data`='{"elements":{"38":{"steps":{"15":{"claimed":"admin","dateCompleted":"2017-05-20 20:38:15","status":"NEW PROJECT"}}},"1":{"steps":{"15":{"claimed":"admin","dateCompleted":"2017-05-20 20:38:16","status":"NEW"}}}}}' WHERE object_id='38'
[Sat, 20 May 17 20:38:24 +0200][INFO] []
[Sat, 20 May 17 20:38:24 +0200][INFO] SELECT *
		FROM departments
		ORDER BY
            department ASC
[Sat, 20 May 17 20:38:24 +0200][INFO] []
[Sat, 20 May 17 20:38:24 +0200][INFO] SELECT p.*, 
                        pri.name AS priority_name, 
                        pri.style, 
                        COUNT(a.id) AS attachmentCount, 
                        COUNT(c.id) AS commentCount 
                FROM projects p 
                INNER JOIN priority pri ON pri.id = p.priority
                LEFT JOIN attachments a ON a.source_id = p.id
                INNER JOIN departments d ON d.id = p.department_id
                LEFT JOIN comments c ON c.source_id = p.id GROUP BY p.id ORDER BY id DESC
[Sat, 20 May 17 20:38:24 +0200][INFO] ["38"]
[Sat, 20 May 17 20:38:24 +0200][INFO] 
		SELECT *
		FROM workflow.workflow_data
		WHERE
            `object_id` = '38'
                
[Sat, 20 May 17 20:38:24 +0200][INFO] ["37"]
[Sat, 20 May 17 20:38:24 +0200][INFO] 
		SELECT *
		FROM workflow.workflow_data
		WHERE
            `object_id` = '37'
                
[Sat, 20 May 17 20:38:24 +0200][INFO] []
[Sat, 20 May 17 20:38:24 +0200][INFO] SELECT * FROM user_management.poms_users ORDER BY team_id, username ASC
[Sat, 20 May 17 20:38:24 +0200][INFO] []
[Sat, 20 May 17 20:38:24 +0200][INFO] 
		SELECT *
		FROM priority
		
[Sat, 20 May 17 20:38:24 +0200][INFO] ["central"]
[Sat, 20 May 17 20:38:24 +0200][INFO] SELECT * FROM workflow.request_types r
                INNER JOIN workflow.workflow_systems s ON s.system_id = r.system_id
                WHERE s.system_name = 'central'
[Sat, 20 May 17 20:38:25 +0200][INFO] []
[Sat, 20 May 17 20:38:25 +0200][INFO] SELECT p.*, 
                        pri.name AS priority_name, 
                        pri.style, 
                        COUNT(a.id) AS attachmentCount, 
                        COUNT(c.id) AS commentCount 
                FROM projects p 
                INNER JOIN priority pri ON pri.id = p.priority
                LEFT JOIN attachments a ON a.source_id = p.id
                INNER JOIN departments d ON d.id = p.department_id
                LEFT JOIN comments c ON c.source_id = p.id WHERE 1=1  GROUP BY p.id ORDER BY id DESC
[Sat, 20 May 17 20:38:25 +0200][INFO] ["38"]
[Sat, 20 May 17 20:38:25 +0200][INFO] 
		SELECT *
		FROM workflow.workflow_data
		WHERE
            `object_id` = '38'
                
[Sat, 20 May 17 20:38:25 +0200][INFO] ["37"]
[Sat, 20 May 17 20:38:25 +0200][INFO] 
		SELECT *
		FROM workflow.workflow_data
		WHERE
            `object_id` = '37'
                
[Sat, 20 May 17 20:38:26 +0200][INFO] ["38"]
[Sat, 20 May 17 20:38:26 +0200][INFO] SELECT p.*, 
                        pri.name AS priority_name, 
                        pri.style, 
                        COUNT(a.id) AS attachmentCount, 
                        COUNT(c.id) AS commentCount 
                FROM projects p 
                INNER JOIN priority pri ON pri.id = p.priority
                LEFT JOIN attachments a ON a.source_id = p.id
                INNER JOIN departments d ON d.id = p.department_id
                LEFT JOIN comments c ON c.source_id = p.id WHERE 1=1  AND p.id = '38' GROUP BY p.id ORDER BY id DESC
[Sat, 20 May 17 20:38:26 +0200][INFO] ["38"]
[Sat, 20 May 17 20:38:26 +0200][INFO] 
		SELECT *
		FROM workflow.workflow_data
		WHERE
            `object_id` = '38'
                
[Sat, 20 May 17 20:38:26 +0200][INFO] []
[Sat, 20 May 17 20:38:26 +0200][INFO] 
		SELECT *
		FROM priority
		
[Sat, 20 May 17 20:38:26 +0200][INFO] ["38"]
[Sat, 20 May 17 20:38:26 +0200][INFO] 
		SELECT *
		FROM task_manager.attachments
		WHERE
            `source_id` = '38'
                
[Sat, 20 May 17 20:38:26 +0200][INFO] ["38"]
[Sat, 20 May 17 20:38:26 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '38'
                
[Sat, 20 May 17 20:38:26 +0200][INFO] ["38"]
[Sat, 20 May 17 20:38:26 +0200][INFO] 
		SELECT *
		FROM workflow.workflow_data
		WHERE
            `object_id` = '38'
                
[Sat, 20 May 17 20:38:26 +0200][INFO] ["38"]
[Sat, 20 May 17 20:38:26 +0200][INFO] 
		SELECT *
		FROM projects
		WHERE
            `id` = '38'
                
[Sat, 20 May 17 20:38:26 +0200][INFO] ["15"]
[Sat, 20 May 17 20:38:26 +0200][INFO] SELECT
                    sy.system_name,
                    r.request_id,
                    m.workflow_id,
                    m.step_from AS current_step_id,
                    m.id AS current_step,
                    s.step_name AS current_step_name,
                    m2.id AS next_step_id,
                    s2.step_name AS  next_step_name,
                    w.workflow_name
                   FROM workflow.status_mapping m
                    INNER JOIN workflow.workflows w ON w.workflow_id = m.workflow_id
                    INNER JOIN workflow.steps s ON s.step_id = m.step_from
                    INNER JOIN workflow.request_types r ON r.request_id = w.request_id
                    INNER JOIN workflow.workflow_systems sy ON sy.system_id = r.system_id
                    LEFT JOIN workflow.status_mapping m2 ON m2.step_from = m.step_to AND m2.workflow_id = m.workflow_id
                    LEFT JOIN workflow.steps s2 ON s2.step_id = m2.step_from
                   WHERE m.id = '15'
[Sat, 20 May 17 20:38:26 +0200][INFO] ["15"]
[Sat, 20 May 17 20:38:26 +0200][INFO] SELECT
                    sy.system_name,
                    r.request_id,
                    m.workflow_id,
                    m.step_from AS current_step_id,
                    m.id AS current_step,
                    s.step_name AS current_step_name,
                    m2.id AS next_step_id,
                    s2.step_name AS  next_step_name,
                    w.workflow_name
                   FROM workflow.status_mapping m
                    INNER JOIN workflow.workflows w ON w.workflow_id = m.workflow_id
                    INNER JOIN workflow.steps s ON s.step_id = m.step_from
                    INNER JOIN workflow.request_types r ON r.request_id = w.request_id
                    INNER JOIN workflow.workflow_systems sy ON sy.system_id = r.system_id
                    LEFT JOIN workflow.status_mapping m2 ON m2.step_from = m.step_to AND m2.workflow_id = m.workflow_id
                    LEFT JOIN workflow.steps s2 ON s2.step_id = m2.step_from
                   WHERE m.id = '15'
[Sat, 20 May 17 20:38:26 +0200][INFO] ["38"]
[Sat, 20 May 17 20:38:26 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '38'
                
[Sat, 20 May 17 20:38:26 +0200][INFO] ["38"]
[Sat, 20 May 17 20:38:26 +0200][INFO] 
		SELECT *
		FROM workflow.workflow_data
		WHERE
            `object_id` = '38'
                
[Sat, 20 May 17 20:38:26 +0200][INFO] ["38"]
[Sat, 20 May 17 20:38:26 +0200][INFO] 
		SELECT *
		FROM projects
		WHERE
            `id` = '38'
                
[Sat, 20 May 17 20:38:26 +0200][INFO] ["4"]
[Sat, 20 May 17 20:38:26 +0200][INFO] SELECT w.* FROM workflow.workflows w
                INNER JOIN workflow.request_types r ON r.request_id = w.`request_id`
                                    WHERE w.request_id = '4'
[Sat, 20 May 17 20:38:26 +0200][INFO] ["38"]
[Sat, 20 May 17 20:38:26 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '38'
                
[Sat, 20 May 17 20:38:26 +0200][INFO] ["38"]
[Sat, 20 May 17 20:38:26 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '38'
                
[Sat, 20 May 17 20:38:26 +0200][INFO] ["38"]
[Sat, 20 May 17 20:38:26 +0200][INFO] 
		SELECT workflow_data
		FROM workflow.workflow_data
		WHERE
            `object_id` = '38'
                
[Sat, 20 May 17 20:38:26 +0200][INFO] ["38"]
[Sat, 20 May 17 20:38:26 +0200][INFO] 
		SELECT workflow_data
		FROM workflow.workflow_data
		WHERE
            `object_id` = '38'
                
[Sat, 20 May 17 20:38:26 +0200][INFO] ["15"]
[Sat, 20 May 17 20:38:26 +0200][INFO] SELECT
                    sy.system_name,
                    r.request_id,
                    m.workflow_id,
                    m.step_from AS current_step_id,
                    m.id AS current_step,
                    s.step_name AS current_step_name,
                    m2.id AS next_step_id,
                    s2.step_name AS  next_step_name,
                    w.workflow_name
                   FROM workflow.status_mapping m
                    INNER JOIN workflow.workflows w ON w.workflow_id = m.workflow_id
                    INNER JOIN workflow.steps s ON s.step_id = m.step_from
                    INNER JOIN workflow.request_types r ON r.request_id = w.request_id
                    INNER JOIN workflow.workflow_systems sy ON sy.system_id = r.system_id
                    LEFT JOIN workflow.status_mapping m2 ON m2.step_from = m.step_to AND m2.workflow_id = m.workflow_id
                    LEFT JOIN workflow.steps s2 ON s2.step_id = m2.step_from
                   WHERE m.id = '15'
[Sat, 20 May 17 20:38:26 +0200][INFO] ["7"]
[Sat, 20 May 17 20:38:26 +0200][INFO] SELECT s.*, m.step_condition, m.first_step, m.step_from, m.step_to, m.id FROM workflow.status_mapping m
                                                INNER JOIN workflow.steps s ON s.step_id = m.step_from
                                                WHERE m.workflow_id = '7'
                                                ORDER BY m.order_id ASC
[Sat, 20 May 17 20:38:31 +0200][INFO] ["bluetiger_uan@yahoo.com",1]
[Sat, 20 May 17 20:38:31 +0200][INFO] SELECT ns.*, s.step_name FROM workflow.`notifications_sent` ns
                    LEFT JOIN workflow.steps s ON s.step_id = ns.`step_id`
                    WHERE 1=1
                     AND recipient = 'bluetiger_uan@yahoo.com' AND status = 1 ORDER BY ns.date_sent DESC
[Sat, 20 May 17 20:38:31 +0200][INFO] ["bluetiger_uan@yahoo.com",1]
[Sat, 20 May 17 20:38:31 +0200][INFO] SELECT ns.*, s.step_name FROM workflow.`notifications_sent` ns
                    LEFT JOIN workflow.steps s ON s.step_id = ns.`step_id`
                    WHERE 1=1
                     AND recipient = 'bluetiger_uan@yahoo.com' AND status = 1 ORDER BY ns.date_sent DESC LIMIT 0, 10
[Sat, 20 May 17 20:38:31 +0200][INFO] ["38"]
[Sat, 20 May 17 20:38:31 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '38'
                
[Sat, 20 May 17 20:38:31 +0200][INFO] ["38"]
[Sat, 20 May 17 20:38:31 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '38'
                
[Sat, 20 May 17 20:38:31 +0200][INFO] ["38"]
[Sat, 20 May 17 20:38:31 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '38'
                
[Sat, 20 May 17 20:38:31 +0200][INFO] ["38"]
[Sat, 20 May 17 20:38:31 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '38'
                
[Sat, 20 May 17 20:38:31 +0200][INFO] ["37"]
[Sat, 20 May 17 20:38:31 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '37'
                
[Sat, 20 May 17 20:38:31 +0200][INFO] ["37"]
[Sat, 20 May 17 20:38:31 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '37'
                
[Sat, 20 May 17 20:38:31 +0200][INFO] ["36"]
[Sat, 20 May 17 20:38:31 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '36'
                
[Sat, 20 May 17 20:38:31 +0200][INFO] ["36"]
[Sat, 20 May 17 20:38:31 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '36'
                
[Sat, 20 May 17 20:38:31 +0200][INFO] ["35"]
[Sat, 20 May 17 20:38:31 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '35'
                
[Sat, 20 May 17 20:38:31 +0200][INFO] ["35"]
[Sat, 20 May 17 20:38:31 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '35'
                
[Sat, 20 May 17 20:38:31 +0200][INFO] ["34"]
[Sat, 20 May 17 20:38:31 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '34'
                
[Sat, 20 May 17 20:38:31 +0200][INFO] ["34"]
[Sat, 20 May 17 20:38:31 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '34'
                
[Sat, 20 May 17 20:38:31 +0200][INFO] ["33"]
[Sat, 20 May 17 20:38:31 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '33'
                
[Sat, 20 May 17 20:38:31 +0200][INFO] ["33"]
[Sat, 20 May 17 20:38:31 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '33'
                
[Sat, 20 May 17 20:38:31 +0200][INFO] ["32"]
[Sat, 20 May 17 20:38:31 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '32'
                
[Sat, 20 May 17 20:38:31 +0200][INFO] ["32"]
[Sat, 20 May 17 20:38:31 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '32'
                
[Sat, 20 May 17 20:38:31 +0200][INFO] ["31"]
[Sat, 20 May 17 20:38:31 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '31'
                
[Sat, 20 May 17 20:38:31 +0200][INFO] ["31"]
[Sat, 20 May 17 20:38:31 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '31'
                
[Sat, 20 May 17 20:38:31 +0200][INFO] ["30"]
[Sat, 20 May 17 20:38:31 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '30'
                
[Sat, 20 May 17 20:38:31 +0200][INFO] ["30"]
[Sat, 20 May 17 20:38:31 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '30'
                
[Sat, 20 May 17 20:38:31 +0200][INFO] ["2"]
[Sat, 20 May 17 20:38:31 +0200][INFO] 
		SELECT *
		FROM user_management.poms_users
		WHERE
            `usrid` = '2'
                
[Sat, 20 May 17 20:38:31 +0200][INFO] []
[Sat, 20 May 17 20:38:31 +0200][INFO] 
		SELECT *
		FROM workflow.workflow_data
		
[Sat, 20 May 17 20:38:31 +0200][INFO] [{"request_id":"4","current_step":"36","status":"SAVED","workflow_id":"8"}]
[Sat, 20 May 17 20:38:31 +0200][EMERGENCY] 6
[Sat, 20 May 17 20:38:31 +0200][INFO] [{"request_id":"4","current_step":"36","status":"SAVED","workflow_id":"8"}]
[Sat, 20 May 17 20:38:31 +0200][EMERGENCY] 6
[Sat, 20 May 17 20:38:31 +0200][INFO] [{"request_id":"4","current_step":"15","status":"SAVED","workflow_id":"7"}]
[Sat, 20 May 17 20:38:31 +0200][EMERGENCY] 6
[Sat, 20 May 17 20:38:31 +0200][INFO] [{"request_id":"4","current_step":"15","status":"SAVED","workflow_id":"7"}]
[Sat, 20 May 17 20:38:31 +0200][EMERGENCY] 6
[Sat, 20 May 17 20:38:31 +0200][INFO] ["38"]
[Sat, 20 May 17 20:38:31 +0200][INFO] 
		SELECT *
		FROM workflow.workflow_data
		WHERE
            `object_id` = '38'
                
[Sat, 20 May 17 20:38:31 +0200][INFO] ["15"]
[Sat, 20 May 17 20:38:31 +0200][INFO] SELECT s.step_name FROM workflow.`status_mapping` m
                                                INNER JOIN workflow.steps s ON s.step_id = m.`step_from`
                                                WHERE m.id = '15'
[Sat, 20 May 17 20:38:31 +0200][INFO] ["38"]
[Sat, 20 May 17 20:38:31 +0200][INFO] 
		SELECT *
		FROM workflow.workflow_data
		WHERE
            `object_id` = '38'
                
[Sat, 20 May 17 20:38:31 +0200][INFO] ["15"]
[Sat, 20 May 17 20:38:31 +0200][INFO] SELECT s.step_name FROM workflow.`status_mapping` m
                                                INNER JOIN workflow.steps s ON s.step_id = m.`step_from`
                                                WHERE m.id = '15'
[Sat, 20 May 17 20:38:31 +0200][INFO] ["37"]
[Sat, 20 May 17 20:38:31 +0200][INFO] 
		SELECT *
		FROM workflow.workflow_data
		WHERE
            `object_id` = '37'
                
[Sat, 20 May 17 20:38:31 +0200][INFO] ["36"]
[Sat, 20 May 17 20:38:31 +0200][INFO] SELECT s.step_name FROM workflow.`status_mapping` m
                                                INNER JOIN workflow.steps s ON s.step_id = m.`step_from`
                                                WHERE m.id = '36'
[Sat, 20 May 17 20:38:31 +0200][INFO] ["36"]
[Sat, 20 May 17 20:38:31 +0200][INFO] 
		SELECT *
		FROM workflow.workflow_data
		WHERE
            `object_id` = '36'
                
[Sat, 20 May 17 20:38:31 +0200][INFO] [null]
[Sat, 20 May 17 20:38:31 +0200][INFO] SELECT s.step_name FROM workflow.`status_mapping` m
                                                INNER JOIN workflow.steps s ON s.step_id = m.`step_from`
                                                WHERE m.id = 
[Sat, 20 May 17 20:38:31 +0200][INFO] ["35"]
[Sat, 20 May 17 20:38:31 +0200][INFO] 
		SELECT *
		FROM workflow.workflow_data
		WHERE
            `object_id` = '35'
                
[Sat, 20 May 17 20:38:31 +0200][INFO] [null]
[Sat, 20 May 17 20:38:31 +0200][INFO] SELECT s.step_name FROM workflow.`status_mapping` m
                                                INNER JOIN workflow.steps s ON s.step_id = m.`step_from`
                                                WHERE m.id = 
[Sat, 20 May 17 20:38:31 +0200][INFO] ["34"]
[Sat, 20 May 17 20:38:31 +0200][INFO] 
		SELECT *
		FROM workflow.workflow_data
		WHERE
            `object_id` = '34'
                
[Sat, 20 May 17 20:38:31 +0200][INFO] [null]
[Sat, 20 May 17 20:38:31 +0200][INFO] SELECT s.step_name FROM workflow.`status_mapping` m
                                                INNER JOIN workflow.steps s ON s.step_id = m.`step_from`
                                                WHERE m.id = 
[Sat, 20 May 17 20:38:31 +0200][INFO] ["33"]
[Sat, 20 May 17 20:38:31 +0200][INFO] 
		SELECT *
		FROM workflow.workflow_data
		WHERE
            `object_id` = '33'
                
[Sat, 20 May 17 20:38:31 +0200][INFO] [null]
[Sat, 20 May 17 20:38:31 +0200][INFO] SELECT s.step_name FROM workflow.`status_mapping` m
                                                INNER JOIN workflow.steps s ON s.step_id = m.`step_from`
                                                WHERE m.id = 
[Sat, 20 May 17 20:38:31 +0200][INFO] ["32"]
[Sat, 20 May 17 20:38:31 +0200][INFO] 
		SELECT *
		FROM workflow.workflow_data
		WHERE
            `object_id` = '32'
                
[Sat, 20 May 17 20:38:31 +0200][INFO] [null]
[Sat, 20 May 17 20:38:31 +0200][INFO] SELECT s.step_name FROM workflow.`status_mapping` m
                                                INNER JOIN workflow.steps s ON s.step_id = m.`step_from`
                                                WHERE m.id = 
[Sat, 20 May 17 20:38:31 +0200][INFO] ["31"]
[Sat, 20 May 17 20:38:31 +0200][INFO] 
		SELECT *
		FROM workflow.workflow_data
		WHERE
            `object_id` = '31'
                
[Sat, 20 May 17 20:38:31 +0200][INFO] [null]
[Sat, 20 May 17 20:38:31 +0200][INFO] SELECT s.step_name FROM workflow.`status_mapping` m
                                                INNER JOIN workflow.steps s ON s.step_id = m.`step_from`
                                                WHERE m.id = 
[Sat, 20 May 17 20:38:31 +0200][INFO] ["30"]
[Sat, 20 May 17 20:38:31 +0200][INFO] 
		SELECT *
		FROM workflow.workflow_data
		WHERE
            `object_id` = '30'
                
[Sat, 20 May 17 20:38:31 +0200][INFO] [null]
[Sat, 20 May 17 20:38:31 +0200][INFO] SELECT s.step_name FROM workflow.`status_mapping` m
                                                INNER JOIN workflow.steps s ON s.step_id = m.`step_from`
                                                WHERE m.id = 
[Sat, 20 May 17 20:38:33 +0200][INFO] ["bluetiger_uan@yahoo.com","1"]
[Sat, 20 May 17 20:38:33 +0200][INFO] SELECT ns.*, s.step_name FROM workflow.`notifications_sent` ns
                    LEFT JOIN workflow.steps s ON s.step_id = ns.`step_id`
                    WHERE 1=1
                     AND recipient = 'bluetiger_uan@yahoo.com' AND status = '1' ORDER BY ns.date_sent DESC
[Sat, 20 May 17 20:38:33 +0200][INFO] ["bluetiger_uan@yahoo.com","1"]
[Sat, 20 May 17 20:38:33 +0200][INFO] SELECT ns.*, s.step_name FROM workflow.`notifications_sent` ns
                    LEFT JOIN workflow.steps s ON s.step_id = ns.`step_id`
                    WHERE 1=1
                     AND recipient = 'bluetiger_uan@yahoo.com' AND status = '1' ORDER BY ns.date_sent DESC LIMIT 0, 20
[Sat, 20 May 17 20:38:33 +0200][INFO] ["38"]
[Sat, 20 May 17 20:38:33 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '38'
                
[Sat, 20 May 17 20:38:33 +0200][INFO] ["38"]
[Sat, 20 May 17 20:38:33 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '38'
                
[Sat, 20 May 17 20:38:33 +0200][INFO] ["38"]
[Sat, 20 May 17 20:38:33 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '38'
                
[Sat, 20 May 17 20:38:33 +0200][INFO] ["38"]
[Sat, 20 May 17 20:38:33 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '38'
                
[Sat, 20 May 17 20:38:33 +0200][INFO] ["37"]
[Sat, 20 May 17 20:38:33 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '37'
                
[Sat, 20 May 17 20:38:33 +0200][INFO] ["37"]
[Sat, 20 May 17 20:38:33 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '37'
                
[Sat, 20 May 17 20:38:33 +0200][INFO] ["36"]
[Sat, 20 May 17 20:38:33 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '36'
                
[Sat, 20 May 17 20:38:33 +0200][INFO] ["36"]
[Sat, 20 May 17 20:38:33 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '36'
                
[Sat, 20 May 17 20:38:33 +0200][INFO] ["35"]
[Sat, 20 May 17 20:38:33 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '35'
                
[Sat, 20 May 17 20:38:33 +0200][INFO] ["35"]
[Sat, 20 May 17 20:38:33 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '35'
                
[Sat, 20 May 17 20:38:33 +0200][INFO] ["34"]
[Sat, 20 May 17 20:38:33 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '34'
                
[Sat, 20 May 17 20:38:33 +0200][INFO] ["34"]
[Sat, 20 May 17 20:38:33 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '34'
                
[Sat, 20 May 17 20:38:33 +0200][INFO] ["33"]
[Sat, 20 May 17 20:38:33 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '33'
                
[Sat, 20 May 17 20:38:33 +0200][INFO] ["33"]
[Sat, 20 May 17 20:38:33 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '33'
                
[Sat, 20 May 17 20:38:33 +0200][INFO] ["32"]
[Sat, 20 May 17 20:38:33 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '32'
                
[Sat, 20 May 17 20:38:33 +0200][INFO] ["32"]
[Sat, 20 May 17 20:38:33 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '32'
                
[Sat, 20 May 17 20:38:33 +0200][INFO] ["31"]
[Sat, 20 May 17 20:38:33 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '31'
                
[Sat, 20 May 17 20:38:33 +0200][INFO] ["31"]
[Sat, 20 May 17 20:38:33 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '31'
                
[Sat, 20 May 17 20:38:33 +0200][INFO] ["30"]
[Sat, 20 May 17 20:38:33 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '30'
                
[Sat, 20 May 17 20:38:33 +0200][INFO] ["30"]
[Sat, 20 May 17 20:38:33 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '30'
                
[Sat, 20 May 17 20:38:33 +0200][INFO] ["29"]
[Sat, 20 May 17 20:38:33 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '29'
                
[Sat, 20 May 17 20:38:33 +0200][INFO] ["29"]
[Sat, 20 May 17 20:38:33 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '29'
                
[Sat, 20 May 17 20:38:33 +0200][INFO] ["28"]
[Sat, 20 May 17 20:38:33 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '28'
                
[Sat, 20 May 17 20:38:33 +0200][INFO] ["28"]
[Sat, 20 May 17 20:38:33 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '28'
                
[Sat, 20 May 17 20:38:33 +0200][INFO] ["38"]
[Sat, 20 May 17 20:38:33 +0200][INFO] 
		SELECT *
		FROM workflow.workflow_data
		WHERE
            `object_id` = '38'
                
[Sat, 20 May 17 20:38:33 +0200][INFO] ["15"]
[Sat, 20 May 17 20:38:33 +0200][INFO] SELECT s.step_name FROM workflow.`status_mapping` m
                                                INNER JOIN workflow.steps s ON s.step_id = m.`step_from`
                                                WHERE m.id = '15'
[Sat, 20 May 17 20:38:33 +0200][INFO] ["38"]
[Sat, 20 May 17 20:38:33 +0200][INFO] 
		SELECT *
		FROM workflow.workflow_data
		WHERE
            `object_id` = '38'
                
[Sat, 20 May 17 20:38:33 +0200][INFO] ["15"]
[Sat, 20 May 17 20:38:33 +0200][INFO] SELECT s.step_name FROM workflow.`status_mapping` m
                                                INNER JOIN workflow.steps s ON s.step_id = m.`step_from`
                                                WHERE m.id = '15'
[Sat, 20 May 17 20:38:33 +0200][INFO] ["37"]
[Sat, 20 May 17 20:38:33 +0200][INFO] 
		SELECT *
		FROM workflow.workflow_data
		WHERE
            `object_id` = '37'
                
[Sat, 20 May 17 20:38:33 +0200][INFO] ["36"]
[Sat, 20 May 17 20:38:33 +0200][INFO] SELECT s.step_name FROM workflow.`status_mapping` m
                                                INNER JOIN workflow.steps s ON s.step_id = m.`step_from`
                                                WHERE m.id = '36'
[Sat, 20 May 17 20:38:33 +0200][INFO] ["36"]
[Sat, 20 May 17 20:38:33 +0200][INFO] 
		SELECT *
		FROM workflow.workflow_data
		WHERE
            `object_id` = '36'
                
[Sat, 20 May 17 20:38:33 +0200][INFO] [null]
[Sat, 20 May 17 20:38:33 +0200][INFO] SELECT s.step_name FROM workflow.`status_mapping` m
                                                INNER JOIN workflow.steps s ON s.step_id = m.`step_from`
                                                WHERE m.id = 
[Sat, 20 May 17 20:38:33 +0200][INFO] ["35"]
[Sat, 20 May 17 20:38:33 +0200][INFO] 
		SELECT *
		FROM workflow.workflow_data
		WHERE
            `object_id` = '35'
                
[Sat, 20 May 17 20:38:33 +0200][INFO] [null]
[Sat, 20 May 17 20:38:33 +0200][INFO] SELECT s.step_name FROM workflow.`status_mapping` m
                                                INNER JOIN workflow.steps s ON s.step_id = m.`step_from`
                                                WHERE m.id = 
[Sat, 20 May 17 20:38:33 +0200][INFO] ["34"]
[Sat, 20 May 17 20:38:33 +0200][INFO] 
		SELECT *
		FROM workflow.workflow_data
		WHERE
            `object_id` = '34'
                
[Sat, 20 May 17 20:38:33 +0200][INFO] [null]
[Sat, 20 May 17 20:38:33 +0200][INFO] SELECT s.step_name FROM workflow.`status_mapping` m
                                                INNER JOIN workflow.steps s ON s.step_id = m.`step_from`
                                                WHERE m.id = 
[Sat, 20 May 17 20:38:33 +0200][INFO] ["33"]
[Sat, 20 May 17 20:38:33 +0200][INFO] 
		SELECT *
		FROM workflow.workflow_data
		WHERE
            `object_id` = '33'
                
[Sat, 20 May 17 20:38:33 +0200][INFO] [null]
[Sat, 20 May 17 20:38:33 +0200][INFO] SELECT s.step_name FROM workflow.`status_mapping` m
                                                INNER JOIN workflow.steps s ON s.step_id = m.`step_from`
                                                WHERE m.id = 
[Sat, 20 May 17 20:38:33 +0200][INFO] ["32"]
[Sat, 20 May 17 20:38:33 +0200][INFO] 
		SELECT *
		FROM workflow.workflow_data
		WHERE
            `object_id` = '32'
                
[Sat, 20 May 17 20:38:33 +0200][INFO] [null]
[Sat, 20 May 17 20:38:33 +0200][INFO] SELECT s.step_name FROM workflow.`status_mapping` m
                                                INNER JOIN workflow.steps s ON s.step_id = m.`step_from`
                                                WHERE m.id = 
[Sat, 20 May 17 20:38:33 +0200][INFO] ["31"]
[Sat, 20 May 17 20:38:33 +0200][INFO] 
		SELECT *
		FROM workflow.workflow_data
		WHERE
            `object_id` = '31'
                
[Sat, 20 May 17 20:38:33 +0200][INFO] [null]
[Sat, 20 May 17 20:38:33 +0200][INFO] SELECT s.step_name FROM workflow.`status_mapping` m
                                                INNER JOIN workflow.steps s ON s.step_id = m.`step_from`
                                                WHERE m.id = 
[Sat, 20 May 17 20:38:33 +0200][INFO] ["30"]
[Sat, 20 May 17 20:38:33 +0200][INFO] 
		SELECT *
		FROM workflow.workflow_data
		WHERE
            `object_id` = '30'
                
[Sat, 20 May 17 20:38:33 +0200][INFO] [null]
[Sat, 20 May 17 20:38:33 +0200][INFO] SELECT s.step_name FROM workflow.`status_mapping` m
                                                INNER JOIN workflow.steps s ON s.step_id = m.`step_from`
                                                WHERE m.id = 
[Sat, 20 May 17 20:38:33 +0200][INFO] ["29"]
[Sat, 20 May 17 20:38:33 +0200][INFO] 
		SELECT *
		FROM workflow.workflow_data
		WHERE
            `object_id` = '29'
                
[Sat, 20 May 17 20:38:33 +0200][INFO] [null]
[Sat, 20 May 17 20:38:33 +0200][INFO] SELECT s.step_name FROM workflow.`status_mapping` m
                                                INNER JOIN workflow.steps s ON s.step_id = m.`step_from`
                                                WHERE m.id = 
[Sat, 20 May 17 20:38:33 +0200][INFO] ["28"]
[Sat, 20 May 17 20:38:33 +0200][INFO] 
		SELECT *
		FROM workflow.workflow_data
		WHERE
            `object_id` = '28'
                
[Sat, 20 May 17 20:38:33 +0200][INFO] [null]
[Sat, 20 May 17 20:38:33 +0200][INFO] SELECT s.step_name FROM workflow.`status_mapping` m
                                                INNER JOIN workflow.steps s ON s.step_id = m.`step_from`
                                                WHERE m.id = 
[Sat, 20 May 17 20:38:34 +0200][INFO] []
[Sat, 20 May 17 20:38:34 +0200][INFO] 
		SELECT *
		FROM workflow.workflow_data
		
[Sat, 20 May 17 20:38:34 +0200][INFO] []
[Sat, 20 May 17 20:38:34 +0200][INFO] SELECT w.workflow_id,
                        w.workflow_name,
                        w.description,
                        r.request_id,
                        w.created_by,
                        w.date_created,
                        u.firstName,
                        u.lastName,
                        u.username,
                        r.request_type

                FROM workflow.workflows w
                INNER JOIN user_management.poms_users u ON u.username = created_by
                INNER JOIN workflow.request_types r ON r.request_id = w.request_id
                WHERE 1=1 GROUP BY w.workflow_id
[Sat, 20 May 17 20:38:36 +0200][INFO] ["1",1]
[Sat, 20 May 17 20:38:36 +0200][INFO] 
		SELECT id
		FROM workflow.status_mapping
		WHERE
            `workflow_id` = '1'
                 AND `first_step` = 1
                
[Sat, 20 May 17 20:38:36 +0200][INFO] ["31"]
[Sat, 20 May 17 20:38:36 +0200][INFO] SELECT
                    sy.system_name,
                    r.request_id,
                    m.workflow_id,
                    m.step_from AS current_step_id,
                    m.id AS current_step,
                    s.step_name AS current_step_name,
                    m2.id AS next_step_id,
                    s2.step_name AS  next_step_name,
                    w.workflow_name
                   FROM workflow.status_mapping m
                    INNER JOIN workflow.workflows w ON w.workflow_id = m.workflow_id
                    INNER JOIN workflow.steps s ON s.step_id = m.step_from
                    INNER JOIN workflow.request_types r ON r.request_id = w.request_id
                    INNER JOIN workflow.workflow_systems sy ON sy.system_id = r.system_id
                    LEFT JOIN workflow.status_mapping m2 ON m2.step_from = m.step_to AND m2.workflow_id = m.workflow_id
                    LEFT JOIN workflow.steps s2 ON s2.step_id = m2.step_from
                   WHERE m.id = '31'
[Sat, 20 May 17 20:38:36 +0200][INFO] ["1"]
[Sat, 20 May 17 20:38:36 +0200][INFO] SELECT sf.*, f.*, ft.field_type, dt.options, dt.data_object_type,
                IF(rf.field_id IS NOT NULL, 1, 0) as required_field, sf.field_conditions 
                FROM workflow.step_fields sf 
                INNER JOIN workflow.fields f ON f.field_id = sf.field_id 
                INNER JOIN workflow.field_types ft ON ft.field_type_id = f.field_type 
                LEFT JOIN workflow.data_types dt ON dt.id = f.data_type 
                LEFT JOIN workflow.required_fields rf on rf.field_id = f.field_id
                WHERE sf.step_id = '1' 
                GROUP BY f.field_id
                ORDER BY sf.order_id
[Sat, 20 May 17 20:38:36 +0200][INFO] []
[Sat, 20 May 17 20:38:36 +0200][INFO] SELECT * FROM task_manager.priority
[Sat, 20 May 17 20:38:45 +0200][INFO] ["1",1]
[Sat, 20 May 17 20:38:45 +0200][INFO] 
		SELECT id
		FROM workflow.status_mapping
		WHERE
            `workflow_id` = '1'
                 AND `first_step` = 1
                
[Sat, 20 May 17 20:38:45 +0200][INFO] ["31"]
[Sat, 20 May 17 20:38:45 +0200][INFO] SELECT
                    sy.system_name,
                    r.request_id,
                    m.workflow_id,
                    m.step_from AS current_step_id,
                    m.id AS current_step,
                    s.step_name AS current_step_name,
                    m2.id AS next_step_id,
                    s2.step_name AS  next_step_name,
                    w.workflow_name
                   FROM workflow.status_mapping m
                    INNER JOIN workflow.workflows w ON w.workflow_id = m.workflow_id
                    INNER JOIN workflow.steps s ON s.step_id = m.step_from
                    INNER JOIN workflow.request_types r ON r.request_id = w.request_id
                    INNER JOIN workflow.workflow_systems sy ON sy.system_id = r.system_id
                    LEFT JOIN workflow.status_mapping m2 ON m2.step_from = m.step_to AND m2.workflow_id = m.workflow_id
                    LEFT JOIN workflow.steps s2 ON s2.step_id = m2.step_from
                   WHERE m.id = '31'
[Sat, 20 May 17 20:38:45 +0200][INFO] ["1"]
[Sat, 20 May 17 20:38:45 +0200][INFO] SELECT r.*, f.* FROM workflow.required_fields r 
                    INNER JOIN workflow.fields f ON f.field_id = r.field_id
                    WHERE r.step_id = '1'
[Sat, 20 May 17 20:38:45 +0200][INFO] INSERT INTO task_manager.projects (step_data,priority,department_id,project_status) VALUES ('{"job":{"description":"test brand hopper","name":"brand hopper","priority":1,"deptId":1,"workflow":"1","added_by":"admin","date_created":"2017-05-20","project_status":1,"dueDate":"2017-05-20"},"scheduler":{"name":"brand hopper","priority":1,"added_by":"admin","date_created":"2017-05-20","project_status":1,"dueDate":"2017-05-20"}}',1,1,1)
[Sat, 20 May 17 20:38:45 +0200][INFO] ["39"]
[Sat, 20 May 17 20:38:45 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '39'
                
[Sat, 20 May 17 20:38:45 +0200][INFO] ["39"]
[Sat, 20 May 17 20:38:45 +0200][INFO] 
		SELECT workflow_data, audit_data, id
		FROM workflow.workflow_data
		WHERE
            `object_id` = '39'
                
[Sat, 20 May 17 20:38:45 +0200][INFO] [5,"task_manager"]
[Sat, 20 May 17 20:38:45 +0200][INFO] 
		SELECT *
		FROM auto_notifications
		WHERE
            `triggering_status` = 5
                 AND `system` = 'task_manager'
                
[Sat, 20 May 17 20:38:45 +0200][INFO] [5,"task_manager"]
[Sat, 20 May 17 20:38:45 +0200][INFO] 
		SELECT *
		FROM auto_notifications
		WHERE
            `triggering_status` = 5
                 AND `system` = 'task_manager'
                
[Sat, 20 May 17 20:38:45 +0200][INFO] ["39"]
[Sat, 20 May 17 20:38:45 +0200][INFO] UPDATE workflow.notifications_sent 
                                SET status = 2 
                                WHERE case_id = '39' 
                                AND status != 3
[Sat, 20 May 17 20:38:45 +0200][ERROR] PDOException: SQLSTATE[HY000]: General error
 File=C:\xampp\htdocs\core\app\library\Mysql.php
 Line=255
#0 [internal function]: PDOStatement->fetchAll()
#1 C:\xampp\htdocs\core\app\library\Mysql.php(255): Phalcon\Db\Result\Pdo->fetchAll()
#2 C:\xampp\htdocs\core\app\library\Mysql.php(156): Mysql2->queryDatabase('UPDATE workflow...', Array, true)
#3 C:\xampp\htdocs\core\app\library\Notifications\SendNotification.php(131): Mysql2->_query('UPDATE workflow...', Array)
#4 C:\xampp\htdocs\core\app\library\Notifications\SendNotification.php(114): SendNotification->save()
#5 C:\xampp\htdocs\core\app\library\WorkflowClasses\WorkflowStep.php(292): SendNotification->buildEmail(5, Array)
#6 C:\xampp\htdocs\core\app\library\WorkflowClasses\WorkflowStep.php(396): WorkflowStep->sendNotification(Object(Save), Array)
#7 C:\xampp\htdocs\core\app\library\WorkflowClasses\WorkflowStep.php(231): WorkflowStep->completeWorkflowObject(Object(Save), Array, false)
#8 C:\xampp\htdocs\FormBuilder\app\controllers\InboxController.php(275): WorkflowStep->save(Object(Save), Array)
#9 [internal function]: InboxController->saveNewCaseAction()
#10 [internal function]: Phalcon\Dispatcher->dispatch()
#11 C:\xampp\htdocs\FormBuilder\public\index.php(23): Phalcon\Mvc\Application->handle()
#12 {main}
[Sat, 20 May 17 20:38:45 +0200][INFO] INSERT INTO workflow.notifications_sent (subject,message,recipient,date_sent,project_id,case_id,status,step_id) VALUES ('Project brand hopper has been accepted by admin [id]','Project brand hopper has been accepted by admin 1 2017-05-20 Brand Hopper Brand Hopper','bluetiger_uan@yahoo.com','2017-05-20 20:38:45','39','39',1,5)
[Sat, 20 May 17 20:38:45 +0200][INFO] INSERT INTO workflow.workflow_data (workflow_data,audit_data,object_id) VALUES ('{"request_id":"6","current_step":"31","status":"SAVED","workflow_id":"1","elements":{"39":{"request_id":"6","current_step":"31","status":"SAVED","workflow_id":"1"}}}','{"elements":{"39":{"steps":{"31":{"claimed":"admin","dateCompleted":"2017-05-20 20:38:45","status":"NEW PROJECT"}}}}}','39')
[Sat, 20 May 17 20:38:45 +0200][INFO] ["39"]
[Sat, 20 May 17 20:38:45 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '39'
                
[Sat, 20 May 17 20:38:45 +0200][INFO] ["39"]
[Sat, 20 May 17 20:38:45 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '39'
                
[Sat, 20 May 17 20:38:45 +0200][INFO] ["1",1]
[Sat, 20 May 17 20:38:45 +0200][INFO] 
		SELECT id
		FROM workflow.status_mapping
		WHERE
            `workflow_id` = '1'
                 AND `first_step` = 1
                
[Sat, 20 May 17 20:38:45 +0200][INFO] ["31"]
[Sat, 20 May 17 20:38:45 +0200][INFO] SELECT
                    sy.system_name,
                    r.request_id,
                    m.workflow_id,
                    m.step_from AS current_step_id,
                    m.id AS current_step,
                    s.step_name AS current_step_name,
                    m2.id AS next_step_id,
                    s2.step_name AS  next_step_name,
                    w.workflow_name
                   FROM workflow.status_mapping m
                    INNER JOIN workflow.workflows w ON w.workflow_id = m.workflow_id
                    INNER JOIN workflow.steps s ON s.step_id = m.step_from
                    INNER JOIN workflow.request_types r ON r.request_id = w.request_id
                    INNER JOIN workflow.workflow_systems sy ON sy.system_id = r.system_id
                    LEFT JOIN workflow.status_mapping m2 ON m2.step_from = m.step_to AND m2.workflow_id = m.workflow_id
                    LEFT JOIN workflow.steps s2 ON s2.step_id = m2.step_from
                   WHERE m.id = '31'
[Sat, 20 May 17 20:38:45 +0200][INFO] ["1"]
[Sat, 20 May 17 20:38:45 +0200][INFO] SELECT r.*, f.* FROM workflow.required_fields r 
                    INNER JOIN workflow.fields f ON f.field_id = r.field_id
                    WHERE r.step_id = '1'
[Sat, 20 May 17 20:38:45 +0200][INFO] ["39"]
[Sat, 20 May 17 20:38:45 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '39'
                
[Sat, 20 May 17 20:38:45 +0200][INFO] ["39"]
[Sat, 20 May 17 20:38:45 +0200][INFO] 
		SELECT *
		FROM workflow.workflow_data
		WHERE
            `object_id` = '39'
                
[Sat, 20 May 17 20:38:45 +0200][INFO] UPDATE task_manager.projects SET `step_data`='{"job":{"description":"test brand hopper","name":"brand hopper","priority":1,"deptId":1,"workflow":"1","added_by":"admin","date_created":"2017-05-20","project_status":1,"dueDate":"2017-05-20"},"scheduler":{"name":"brand hopper","priority":1,"added_by":"admin","date_created":"2017-05-20","project_status":1,"dueDate":"2017-05-20","id":1,"status":"Not Started","backlogs":{"1":{"name":"brand hopper","description":"test brand hopper"}}},"elements":{"1":{"name":"brand hopper","description":"test brand hopper","source_id":"39","workflow_id":"1"}}}' WHERE id='39'
[Sat, 20 May 17 20:38:45 +0200][INFO] ["39"]
[Sat, 20 May 17 20:38:45 +0200][INFO] 
		SELECT workflow_data, audit_data, id
		FROM workflow.workflow_data
		WHERE
            `object_id` = '39'
                
[Sat, 20 May 17 20:38:45 +0200][INFO] [5,"task_manager"]
[Sat, 20 May 17 20:38:45 +0200][INFO] 
		SELECT *
		FROM auto_notifications
		WHERE
            `triggering_status` = 5
                 AND `system` = 'task_manager'
                
[Sat, 20 May 17 20:38:45 +0200][INFO] [5,"task_manager"]
[Sat, 20 May 17 20:38:45 +0200][INFO] 
		SELECT *
		FROM auto_notifications
		WHERE
            `triggering_status` = 5
                 AND `system` = 'task_manager'
                
[Sat, 20 May 17 20:38:46 +0200][INFO] [1]
[Sat, 20 May 17 20:38:46 +0200][INFO] UPDATE workflow.notifications_sent 
                                SET status = 2 
                                WHERE case_id = 1 
                                AND status != 3
[Sat, 20 May 17 20:38:46 +0200][ERROR] PDOException: SQLSTATE[HY000]: General error
 File=C:\xampp\htdocs\core\app\library\Mysql.php
 Line=255
#0 [internal function]: PDOStatement->fetchAll()
#1 C:\xampp\htdocs\core\app\library\Mysql.php(255): Phalcon\Db\Result\Pdo->fetchAll()
#2 C:\xampp\htdocs\core\app\library\Mysql.php(156): Mysql2->queryDatabase('UPDATE workflow...', Array, true)
#3 C:\xampp\htdocs\core\app\library\Notifications\SendNotification.php(131): Mysql2->_query('UPDATE workflow...', Array)
#4 C:\xampp\htdocs\core\app\library\Notifications\SendNotification.php(114): SendNotification->save()
#5 C:\xampp\htdocs\core\app\library\WorkflowClasses\WorkflowStep.php(292): SendNotification->buildEmail(5, Array)
#6 C:\xampp\htdocs\core\app\library\WorkflowClasses\WorkflowStep.php(396): WorkflowStep->sendNotification(Object(Elements), Array)
#7 C:\xampp\htdocs\core\app\library\WorkflowClasses\WorkflowStep.php(231): WorkflowStep->completeWorkflowObject(Object(Elements), Array, false)
#8 C:\xampp\htdocs\FormBuilder\app\controllers\InboxController.php(330): WorkflowStep->save(Object(Elements), Array)
#9 [internal function]: InboxController->saveNewCaseAction()
#10 [internal function]: Phalcon\Dispatcher->dispatch()
#11 C:\xampp\htdocs\FormBuilder\public\index.php(23): Phalcon\Mvc\Application->handle()
#12 {main}
[Sat, 20 May 17 20:38:46 +0200][INFO] INSERT INTO workflow.notifications_sent (subject,message,recipient,date_sent,project_id,case_id,status,step_id) VALUES ('Project brand hopper has been accepted by [added_by] [id]','Project brand hopper has been accepted by [added_by] [priority] [dueDate] Brand Hopper Brand Hopper','bluetiger_uan@yahoo.com','2017-05-20 20:38:46','39',1,1,5)
[Sat, 20 May 17 20:38:46 +0200][INFO] UPDATE workflow.workflow_data SET `workflow_data`='{"request_id":"6","current_step":"31","status":"SAVED","workflow_id":"1","elements":{"39":{"request_id":"6","current_step":"31","status":"SAVED","workflow_id":"1"},"1":{"request_id":"6","current_step":"31","status":"SAVED","workflow_id":"1"}}}',`audit_data`='{"elements":{"39":{"steps":{"31":{"claimed":"admin","dateCompleted":"2017-05-20 20:38:45","status":"NEW PROJECT"}}},"1":{"steps":{"31":{"claimed":"admin","dateCompleted":"2017-05-20 20:38:45","status":"NEW"}}}}}' WHERE object_id='39'
[Sat, 20 May 17 20:38:48 +0200][INFO] []
[Sat, 20 May 17 20:38:48 +0200][INFO] SELECT *
		FROM departments
		ORDER BY
            department ASC
[Sat, 20 May 17 20:38:48 +0200][INFO] []
[Sat, 20 May 17 20:38:48 +0200][INFO] SELECT p.*, 
                        pri.name AS priority_name, 
                        pri.style, 
                        COUNT(a.id) AS attachmentCount, 
                        COUNT(c.id) AS commentCount 
                FROM projects p 
                INNER JOIN priority pri ON pri.id = p.priority
                LEFT JOIN attachments a ON a.source_id = p.id
                INNER JOIN departments d ON d.id = p.department_id
                LEFT JOIN comments c ON c.source_id = p.id GROUP BY p.id ORDER BY id DESC
[Sat, 20 May 17 20:38:49 +0200][INFO] ["39"]
[Sat, 20 May 17 20:38:49 +0200][INFO] 
		SELECT *
		FROM workflow.workflow_data
		WHERE
            `object_id` = '39'
                
[Sat, 20 May 17 20:38:49 +0200][INFO] ["38"]
[Sat, 20 May 17 20:38:49 +0200][INFO] 
		SELECT *
		FROM workflow.workflow_data
		WHERE
            `object_id` = '38'
                
[Sat, 20 May 17 20:38:49 +0200][INFO] ["37"]
[Sat, 20 May 17 20:38:49 +0200][INFO] 
		SELECT *
		FROM workflow.workflow_data
		WHERE
            `object_id` = '37'
                
[Sat, 20 May 17 20:38:49 +0200][INFO] []
[Sat, 20 May 17 20:38:49 +0200][INFO] SELECT * FROM user_management.poms_users ORDER BY team_id, username ASC
[Sat, 20 May 17 20:38:49 +0200][INFO] []
[Sat, 20 May 17 20:38:49 +0200][INFO] 
		SELECT *
		FROM priority
		
[Sat, 20 May 17 20:38:49 +0200][INFO] ["central"]
[Sat, 20 May 17 20:38:49 +0200][INFO] SELECT * FROM workflow.request_types r
                INNER JOIN workflow.workflow_systems s ON s.system_id = r.system_id
                WHERE s.system_name = 'central'
[Sat, 20 May 17 20:38:49 +0200][INFO] []
[Sat, 20 May 17 20:38:49 +0200][INFO] SELECT p.*, 
                        pri.name AS priority_name, 
                        pri.style, 
                        COUNT(a.id) AS attachmentCount, 
                        COUNT(c.id) AS commentCount 
                FROM projects p 
                INNER JOIN priority pri ON pri.id = p.priority
                LEFT JOIN attachments a ON a.source_id = p.id
                INNER JOIN departments d ON d.id = p.department_id
                LEFT JOIN comments c ON c.source_id = p.id WHERE 1=1  GROUP BY p.id ORDER BY id DESC
[Sat, 20 May 17 20:38:49 +0200][INFO] ["39"]
[Sat, 20 May 17 20:38:49 +0200][INFO] 
		SELECT *
		FROM workflow.workflow_data
		WHERE
            `object_id` = '39'
                
[Sat, 20 May 17 20:38:49 +0200][INFO] ["38"]
[Sat, 20 May 17 20:38:49 +0200][INFO] 
		SELECT *
		FROM workflow.workflow_data
		WHERE
            `object_id` = '38'
                
[Sat, 20 May 17 20:38:49 +0200][INFO] ["37"]
[Sat, 20 May 17 20:38:49 +0200][INFO] 
		SELECT *
		FROM workflow.workflow_data
		WHERE
            `object_id` = '37'
                
[Sat, 20 May 17 20:38:52 +0200][INFO] ["39"]
[Sat, 20 May 17 20:38:52 +0200][INFO] SELECT p.*, 
                        pri.name AS priority_name, 
                        pri.style, 
                        COUNT(a.id) AS attachmentCount, 
                        COUNT(c.id) AS commentCount 
                FROM projects p 
                INNER JOIN priority pri ON pri.id = p.priority
                LEFT JOIN attachments a ON a.source_id = p.id
                INNER JOIN departments d ON d.id = p.department_id
                LEFT JOIN comments c ON c.source_id = p.id WHERE 1=1  AND p.id = '39' GROUP BY p.id ORDER BY id DESC
[Sat, 20 May 17 20:38:52 +0200][INFO] ["39"]
[Sat, 20 May 17 20:38:52 +0200][INFO] 
		SELECT *
		FROM workflow.workflow_data
		WHERE
            `object_id` = '39'
                
[Sat, 20 May 17 20:38:52 +0200][INFO] []
[Sat, 20 May 17 20:38:52 +0200][INFO] 
		SELECT *
		FROM priority
		
[Sat, 20 May 17 20:38:52 +0200][INFO] ["39"]
[Sat, 20 May 17 20:38:52 +0200][INFO] 
		SELECT *
		FROM task_manager.attachments
		WHERE
            `source_id` = '39'
                
[Sat, 20 May 17 20:38:52 +0200][INFO] ["39"]
[Sat, 20 May 17 20:38:52 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '39'
                
[Sat, 20 May 17 20:38:52 +0200][INFO] ["39"]
[Sat, 20 May 17 20:38:52 +0200][INFO] 
		SELECT *
		FROM workflow.workflow_data
		WHERE
            `object_id` = '39'
                
[Sat, 20 May 17 20:38:52 +0200][INFO] ["39"]
[Sat, 20 May 17 20:38:52 +0200][INFO] 
		SELECT *
		FROM projects
		WHERE
            `id` = '39'
                
[Sat, 20 May 17 20:38:52 +0200][INFO] ["31"]
[Sat, 20 May 17 20:38:52 +0200][INFO] SELECT
                    sy.system_name,
                    r.request_id,
                    m.workflow_id,
                    m.step_from AS current_step_id,
                    m.id AS current_step,
                    s.step_name AS current_step_name,
                    m2.id AS next_step_id,
                    s2.step_name AS  next_step_name,
                    w.workflow_name
                   FROM workflow.status_mapping m
                    INNER JOIN workflow.workflows w ON w.workflow_id = m.workflow_id
                    INNER JOIN workflow.steps s ON s.step_id = m.step_from
                    INNER JOIN workflow.request_types r ON r.request_id = w.request_id
                    INNER JOIN workflow.workflow_systems sy ON sy.system_id = r.system_id
                    LEFT JOIN workflow.status_mapping m2 ON m2.step_from = m.step_to AND m2.workflow_id = m.workflow_id
                    LEFT JOIN workflow.steps s2 ON s2.step_id = m2.step_from
                   WHERE m.id = '31'
[Sat, 20 May 17 20:38:52 +0200][INFO] ["31"]
[Sat, 20 May 17 20:38:52 +0200][INFO] SELECT
                    sy.system_name,
                    r.request_id,
                    m.workflow_id,
                    m.step_from AS current_step_id,
                    m.id AS current_step,
                    s.step_name AS current_step_name,
                    m2.id AS next_step_id,
                    s2.step_name AS  next_step_name,
                    w.workflow_name
                   FROM workflow.status_mapping m
                    INNER JOIN workflow.workflows w ON w.workflow_id = m.workflow_id
                    INNER JOIN workflow.steps s ON s.step_id = m.step_from
                    INNER JOIN workflow.request_types r ON r.request_id = w.request_id
                    INNER JOIN workflow.workflow_systems sy ON sy.system_id = r.system_id
                    LEFT JOIN workflow.status_mapping m2 ON m2.step_from = m.step_to AND m2.workflow_id = m.workflow_id
                    LEFT JOIN workflow.steps s2 ON s2.step_id = m2.step_from
                   WHERE m.id = '31'
[Sat, 20 May 17 20:38:52 +0200][INFO] ["39"]
[Sat, 20 May 17 20:38:52 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '39'
                
[Sat, 20 May 17 20:38:52 +0200][INFO] ["39"]
[Sat, 20 May 17 20:38:52 +0200][INFO] 
		SELECT *
		FROM workflow.workflow_data
		WHERE
            `object_id` = '39'
                
[Sat, 20 May 17 20:38:52 +0200][INFO] ["39"]
[Sat, 20 May 17 20:38:52 +0200][INFO] 
		SELECT *
		FROM projects
		WHERE
            `id` = '39'
                
[Sat, 20 May 17 20:38:52 +0200][INFO] ["6"]
[Sat, 20 May 17 20:38:52 +0200][INFO] SELECT w.* FROM workflow.workflows w
                INNER JOIN workflow.request_types r ON r.request_id = w.`request_id`
                                    WHERE w.request_id = '6'
[Sat, 20 May 17 20:38:52 +0200][INFO] ["39"]
[Sat, 20 May 17 20:38:52 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '39'
                
[Sat, 20 May 17 20:38:52 +0200][INFO] ["39"]
[Sat, 20 May 17 20:38:52 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '39'
                
[Sat, 20 May 17 20:38:52 +0200][INFO] ["39"]
[Sat, 20 May 17 20:38:52 +0200][INFO] 
		SELECT workflow_data
		FROM workflow.workflow_data
		WHERE
            `object_id` = '39'
                
[Sat, 20 May 17 20:38:52 +0200][INFO] ["39"]
[Sat, 20 May 17 20:38:52 +0200][INFO] 
		SELECT workflow_data
		FROM workflow.workflow_data
		WHERE
            `object_id` = '39'
                
[Sat, 20 May 17 20:38:52 +0200][INFO] ["31"]
[Sat, 20 May 17 20:38:52 +0200][INFO] SELECT
                    sy.system_name,
                    r.request_id,
                    m.workflow_id,
                    m.step_from AS current_step_id,
                    m.id AS current_step,
                    s.step_name AS current_step_name,
                    m2.id AS next_step_id,
                    s2.step_name AS  next_step_name,
                    w.workflow_name
                   FROM workflow.status_mapping m
                    INNER JOIN workflow.workflows w ON w.workflow_id = m.workflow_id
                    INNER JOIN workflow.steps s ON s.step_id = m.step_from
                    INNER JOIN workflow.request_types r ON r.request_id = w.request_id
                    INNER JOIN workflow.workflow_systems sy ON sy.system_id = r.system_id
                    LEFT JOIN workflow.status_mapping m2 ON m2.step_from = m.step_to AND m2.workflow_id = m.workflow_id
                    LEFT JOIN workflow.steps s2 ON s2.step_id = m2.step_from
                   WHERE m.id = '31'
[Sat, 20 May 17 20:38:52 +0200][INFO] ["1"]
[Sat, 20 May 17 20:38:52 +0200][INFO] SELECT s.*, m.step_condition, m.first_step, m.step_from, m.step_to, m.id FROM workflow.status_mapping m
                                                INNER JOIN workflow.steps s ON s.step_id = m.step_from
                                                WHERE m.workflow_id = '1'
                                                ORDER BY m.order_id ASC
[Sat, 20 May 17 20:39:20 +0200][INFO] ["7",1]
[Sat, 20 May 17 20:39:20 +0200][INFO] 
		SELECT id
		FROM workflow.status_mapping
		WHERE
            `workflow_id` = '7'
                 AND `first_step` = 1
                
[Sat, 20 May 17 20:39:20 +0200][INFO] ["15"]
[Sat, 20 May 17 20:39:20 +0200][INFO] SELECT
                    sy.system_name,
                    r.request_id,
                    m.workflow_id,
                    m.step_from AS current_step_id,
                    m.id AS current_step,
                    s.step_name AS current_step_name,
                    m2.id AS next_step_id,
                    s2.step_name AS  next_step_name,
                    w.workflow_name
                   FROM workflow.status_mapping m
                    INNER JOIN workflow.workflows w ON w.workflow_id = m.workflow_id
                    INNER JOIN workflow.steps s ON s.step_id = m.step_from
                    INNER JOIN workflow.request_types r ON r.request_id = w.request_id
                    INNER JOIN workflow.workflow_systems sy ON sy.system_id = r.system_id
                    LEFT JOIN workflow.status_mapping m2 ON m2.step_from = m.step_to AND m2.workflow_id = m.workflow_id
                    LEFT JOIN workflow.steps s2 ON s2.step_id = m2.step_from
                   WHERE m.id = '15'
[Sat, 20 May 17 20:39:20 +0200][INFO] ["10"]
[Sat, 20 May 17 20:39:20 +0200][INFO] SELECT sf.*, f.*, ft.field_type, dt.options, dt.data_object_type,
                IF(rf.field_id IS NOT NULL, 1, 0) as required_field, sf.field_conditions 
                FROM workflow.step_fields sf 
                INNER JOIN workflow.fields f ON f.field_id = sf.field_id 
                INNER JOIN workflow.field_types ft ON ft.field_type_id = f.field_type 
                LEFT JOIN workflow.data_types dt ON dt.id = f.data_type 
                LEFT JOIN workflow.required_fields rf on rf.field_id = f.field_id
                WHERE sf.step_id = '10' 
                GROUP BY f.field_id
                ORDER BY sf.order_id
[Sat, 20 May 17 20:39:20 +0200][INFO] []
[Sat, 20 May 17 20:39:20 +0200][INFO] SELECT * FROM task_manager.priority
[Sat, 20 May 17 20:39:34 +0200][INFO] ["7",1]
[Sat, 20 May 17 20:39:34 +0200][INFO] 
		SELECT id
		FROM workflow.status_mapping
		WHERE
            `workflow_id` = '7'
                 AND `first_step` = 1
                
[Sat, 20 May 17 20:39:34 +0200][INFO] ["15"]
[Sat, 20 May 17 20:39:34 +0200][INFO] SELECT
                    sy.system_name,
                    r.request_id,
                    m.workflow_id,
                    m.step_from AS current_step_id,
                    m.id AS current_step,
                    s.step_name AS current_step_name,
                    m2.id AS next_step_id,
                    s2.step_name AS  next_step_name,
                    w.workflow_name
                   FROM workflow.status_mapping m
                    INNER JOIN workflow.workflows w ON w.workflow_id = m.workflow_id
                    INNER JOIN workflow.steps s ON s.step_id = m.step_from
                    INNER JOIN workflow.request_types r ON r.request_id = w.request_id
                    INNER JOIN workflow.workflow_systems sy ON sy.system_id = r.system_id
                    LEFT JOIN workflow.status_mapping m2 ON m2.step_from = m.step_to AND m2.workflow_id = m.workflow_id
                    LEFT JOIN workflow.steps s2 ON s2.step_id = m2.step_from
                   WHERE m.id = '15'
[Sat, 20 May 17 20:39:34 +0200][INFO] ["10"]
[Sat, 20 May 17 20:39:34 +0200][INFO] SELECT r.*, f.* FROM workflow.required_fields r 
                    INNER JOIN workflow.fields f ON f.field_id = r.field_id
                    WHERE r.step_id = '10'
[Sat, 20 May 17 20:39:34 +0200][INFO] INSERT INTO task_manager.projects (step_data,priority,department_id,project_status) VALUES ('{"job":{"description":"test sample","name":"sample no 2","priority":1,"deptId":1,"workflow":"7","added_by":"admin","date_created":"2017-05-20","project_status":1,"dueDate":"2017-05-20"},"scheduler":{"name":"sample no 2","priority":1,"added_by":"admin","date_created":"2017-05-20","project_status":1,"dueDate":"2017-05-20"}}',1,1,1)
[Sat, 20 May 17 20:39:34 +0200][INFO] ["40"]
[Sat, 20 May 17 20:39:34 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '40'
                
[Sat, 20 May 17 20:39:34 +0200][INFO] ["40"]
[Sat, 20 May 17 20:39:34 +0200][INFO] 
		SELECT workflow_data, audit_data, id
		FROM workflow.workflow_data
		WHERE
            `object_id` = '40'
                
[Sat, 20 May 17 20:39:34 +0200][INFO] [5,"task_manager"]
[Sat, 20 May 17 20:39:34 +0200][INFO] 
		SELECT *
		FROM auto_notifications
		WHERE
            `triggering_status` = 5
                 AND `system` = 'task_manager'
                
[Sat, 20 May 17 20:39:34 +0200][INFO] [5,"task_manager"]
[Sat, 20 May 17 20:39:34 +0200][INFO] 
		SELECT *
		FROM auto_notifications
		WHERE
            `triggering_status` = 5
                 AND `system` = 'task_manager'
                
[Sat, 20 May 17 20:39:34 +0200][INFO] ["40"]
[Sat, 20 May 17 20:39:34 +0200][INFO] UPDATE workflow.notifications_sent 
                                SET status = 2 
                                WHERE case_id = '40' 
                                AND status != 3
[Sat, 20 May 17 20:39:34 +0200][ERROR] PDOException: SQLSTATE[HY000]: General error
 File=C:\xampp\htdocs\core\app\library\Mysql.php
 Line=255
#0 [internal function]: PDOStatement->fetchAll()
#1 C:\xampp\htdocs\core\app\library\Mysql.php(255): Phalcon\Db\Result\Pdo->fetchAll()
#2 C:\xampp\htdocs\core\app\library\Mysql.php(156): Mysql2->queryDatabase('UPDATE workflow...', Array, true)
#3 C:\xampp\htdocs\core\app\library\Notifications\SendNotification.php(131): Mysql2->_query('UPDATE workflow...', Array)
#4 C:\xampp\htdocs\core\app\library\Notifications\SendNotification.php(114): SendNotification->save()
#5 C:\xampp\htdocs\core\app\library\WorkflowClasses\WorkflowStep.php(292): SendNotification->buildEmail(5, Array)
#6 C:\xampp\htdocs\core\app\library\WorkflowClasses\WorkflowStep.php(396): WorkflowStep->sendNotification(Object(Save), Array)
#7 C:\xampp\htdocs\core\app\library\WorkflowClasses\WorkflowStep.php(231): WorkflowStep->completeWorkflowObject(Object(Save), Array, false)
#8 C:\xampp\htdocs\FormBuilder\app\controllers\InboxController.php(275): WorkflowStep->save(Object(Save), Array)
#9 [internal function]: InboxController->saveNewCaseAction()
#10 [internal function]: Phalcon\Dispatcher->dispatch()
#11 C:\xampp\htdocs\FormBuilder\public\index.php(23): Phalcon\Mvc\Application->handle()
#12 {main}
[Sat, 20 May 17 20:39:34 +0200][INFO] INSERT INTO workflow.notifications_sent (subject,message,recipient,date_sent,project_id,case_id,status,step_id) VALUES ('Project sample no 2 has been accepted by admin [id]','Project sample no 2 has been accepted by admin 1 2017-05-20 Sample Start Sample','bluetiger_uan@yahoo.com','2017-05-20 20:39:34','40','40',1,5)
[Sat, 20 May 17 20:39:34 +0200][INFO] INSERT INTO workflow.workflow_data (workflow_data,audit_data,object_id) VALUES ('{"request_id":"4","current_step":"15","status":"SAVED","workflow_id":"7","elements":{"40":{"request_id":"4","current_step":"15","status":"SAVED","workflow_id":"7"}}}','{"elements":{"40":{"steps":{"15":{"claimed":"admin","dateCompleted":"2017-05-20 20:39:34","status":"NEW PROJECT"}}}}}','40')
[Sat, 20 May 17 20:39:35 +0200][INFO] ["40"]
[Sat, 20 May 17 20:39:35 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '40'
                
[Sat, 20 May 17 20:39:35 +0200][INFO] ["40"]
[Sat, 20 May 17 20:39:35 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '40'
                
[Sat, 20 May 17 20:39:35 +0200][INFO] ["7",1]
[Sat, 20 May 17 20:39:35 +0200][INFO] 
		SELECT id
		FROM workflow.status_mapping
		WHERE
            `workflow_id` = '7'
                 AND `first_step` = 1
                
[Sat, 20 May 17 20:39:35 +0200][INFO] ["15"]
[Sat, 20 May 17 20:39:35 +0200][INFO] SELECT
                    sy.system_name,
                    r.request_id,
                    m.workflow_id,
                    m.step_from AS current_step_id,
                    m.id AS current_step,
                    s.step_name AS current_step_name,
                    m2.id AS next_step_id,
                    s2.step_name AS  next_step_name,
                    w.workflow_name
                   FROM workflow.status_mapping m
                    INNER JOIN workflow.workflows w ON w.workflow_id = m.workflow_id
                    INNER JOIN workflow.steps s ON s.step_id = m.step_from
                    INNER JOIN workflow.request_types r ON r.request_id = w.request_id
                    INNER JOIN workflow.workflow_systems sy ON sy.system_id = r.system_id
                    LEFT JOIN workflow.status_mapping m2 ON m2.step_from = m.step_to AND m2.workflow_id = m.workflow_id
                    LEFT JOIN workflow.steps s2 ON s2.step_id = m2.step_from
                   WHERE m.id = '15'
[Sat, 20 May 17 20:39:35 +0200][INFO] ["10"]
[Sat, 20 May 17 20:39:35 +0200][INFO] SELECT r.*, f.* FROM workflow.required_fields r 
                    INNER JOIN workflow.fields f ON f.field_id = r.field_id
                    WHERE r.step_id = '10'
[Sat, 20 May 17 20:39:35 +0200][INFO] ["40"]
[Sat, 20 May 17 20:39:35 +0200][INFO] 
		SELECT *
		FROM task_manager.projects
		WHERE
            `id` = '40'
                
[Sat, 20 May 17 20:39:35 +0200][INFO] ["40"]
[Sat, 20 May 17 20:39:35 +0200][INFO] 
		SELECT *
		FROM workflow.workflow_data
		WHERE
            `object_id` = '40'
                
[Sat, 20 May 17 20:39:35 +0200][INFO] UPDATE task_manager.projects SET `step_data`='{"job":{"description":"test sample","name":"sample no 2","priority":1,"deptId":1,"workflow":"7","added_by":"admin","date_created":"2017-05-20","project_status":1,"dueDate":"2017-05-20"},"scheduler":{"name":"sample no 2","priority":1,"added_by":"admin","date_created":"2017-05-20","project_status":1,"dueDate":"2017-05-20","id":1,"status":"Not Started","backlogs":{"1":{"name":"sample no 2","description":"test sample"}}},"elements":{"1":{"name":"sample no 2","description":"test sample","location":"location","batch":"batch","source_id":"40","workflow_id":"7"}}}' WHERE id='40'
[Sat, 20 May 17 20:39:35 +0200][INFO] ["40"]
[Sat, 20 May 17 20:39:35 +0200][INFO] 
		SELECT workflow_data, audit_data, id
		FROM workflow.workflow_data
		WHERE
            `object_id` = '40'
                
[Sat, 20 May 17 20:39:35 +0200][INFO] [5,"task_manager"]
[Sat, 20 May 17 20:39:35 +0200][INFO] 
		SELECT *
		FROM auto_notifications
		WHERE
            `triggering_status` = 5
                 AND `system` = 'task_manager'
                
[Sat, 20 May 17 20:39:35 +0200][INFO] [5,"task_manager"]
[Sat, 20 May 17 20:39:35 +0200][INFO] 
		SELECT *
		FROM auto_notifications
		WHERE
            `triggering_status` = 5
                 AND `system` = 'task_manager'
                
[Sat, 20 May 17 20:39:35 +0200][INFO] [1]
[Sat, 20 May 17 20:39:35 +0200][INFO] UPDATE workflow.notifications_sent 
                                SET status = 2 
                                WHERE case_id = 1 
                                AND status != 3
[Sat, 20 May 17 20:39:35 +0200][ERROR] PDOException: SQLSTATE[HY000]: General error
 File=C:\xampp\htdocs\core\app\library\Mysql.php
 Line=255
#0 [internal function]: PDOStatement->fetchAll()
#1 C:\xampp\htdocs\core\app\library\Mysql.php(255): Phalcon\Db\Result\Pdo->fetchAll()
#2 C:\xampp\htdocs\core\app\library\Mysql.php(156): Mysql2->queryDatabase('UPDATE workflow...', Array, true)
#3 C:\xampp\htdocs\core\app\library\Notifications\SendNotification.php(131): Mysql2->_query('UPDATE workflow...', Array)
#4 C:\xampp\htdocs\core\app\library\Notifications\SendNotification.php(114): SendNotification->save()
#5 C:\xampp\htdocs\core\app\library\WorkflowClasses\WorkflowStep.php(292): SendNotification->buildEmail(5, Array)
#6 C:\xampp\htdocs\core\app\library\WorkflowClasses\WorkflowStep.php(396): WorkflowStep->sendNotification(Object(Elements), Array)
#7 C:\xampp\htdocs\core\app\library\WorkflowClasses\WorkflowStep.php(231): WorkflowStep->completeWorkflowObject(Object(Elements), Array, false)
#8 C:\xampp\htdocs\FormBuilder\app\controllers\InboxController.php(330): WorkflowStep->save(Object(Elements), Array)
#9 [internal function]: InboxController->saveNewCaseAction()
#10 [internal function]: Phalcon\Dispatcher->dispatch()
#11 C:\xampp\htdocs\FormBuilder\public\index.php(23): Phalcon\Mvc\Application->handle()
#12 {main}
[Sat, 20 May 17 20:39:35 +0200][INFO] INSERT INTO workflow.notifications_sent (subject,message,recipient,date_sent,project_id,case_id,status,step_id) VALUES ('Project sample no 2 has been accepted by [added_by] [id]','Project sample no 2 has been accepted by [added_by] [priority] [dueDate] Sample Start Sample','bluetiger_uan@yahoo.com','2017-05-20 20:39:35','40',1,1,5)
[Sat, 20 May 17 20:39:35 +0200][INFO] UPDATE workflow.workflow_data SET `workflow_data`='{"request_id":"4","current_step":"15","status":"SAVED","workflow_id":"7","elements":{"40":{"request_id":"4","current_step":"15","status":"SAVED","workflow_id":"7"},"1":{"request_id":"4","current_step":"15","status":"SAVED","workflow_id":"7"}}}',`audit_data`='{"elements":{"40":{"steps":{"15":{"claimed":"admin","dateCompleted":"2017-05-20 20:39:34","status":"NEW PROJECT"}}},"1":{"steps":{"15":{"claimed":"admin","dateCompleted":"2017-05-20 20:39:35","status":"NEW"}}}}}' WHERE object_id='40'
[Sat, 20 May 17 20:39:37 +0200][INFO] []
[Sat, 20 May 17 20:39:37 +0200][INFO] SELECT *
		FROM departments
		ORDER BY
            department ASC
[Sat, 20 May 17 20:39:37 +0200][INFO] []
[Sat, 20 May 17 20:39:37 +0200][INFO] SELECT p.*, 
                        pri.name AS priority_name, 
                        pri.style, 
                        COUNT(a.id) AS attachmentCount, 
                        COUNT(c.id) AS commentCount 
                FROM projects p 
                INNER JOIN priority pri ON pri.id = p.priority
                LEFT JOIN attachments a ON a.source_id = p.id
                INNER JOIN departments d ON d.id = p.department_id
                LEFT JOIN comments c ON c.source_id = p.id GROUP BY p.id ORDER BY id DESC
[Sat, 20 May 17 20:39:37 +0200][INFO] ["40"]
[Sat, 20 May 17 20:39:37 +0200][INFO] 
		SELECT *
		FROM workflow.workflow_data
		WHERE
            `object_id` = '40'
                
[Sat, 20 May 17 20:39:37 +0200][INFO] ["39"]
[Sat, 20 May 17 20:39:37 +0200][INFO] 
		SELECT *
		FROM workflow.workflow_data
		WHERE
            `object_id` = '39'
                
[Sat, 20 May 17 20:39:37 +0200][INFO] ["38"]
[Sat, 20 May 17 20:39:37 +0200][INFO] 
		SELECT *
		FROM workflow.workflow_data
		WHERE
            `object_id` = '38'
                
[Sat, 20 May 17 20:39:37 +0200][INFO] ["37"]
[Sat, 20 May 17 20:39:37 +0200][INFO] 
		SELECT *
		FROM workflow.workflow_data
		WHERE
            `object_id` = '37'
                
[Sat, 20 May 17 20:39:37 +0200][INFO] []
[Sat, 20 May 17 20:39:37 +0200][INFO] SELECT * FROM user_management.poms_users ORDER BY team_id, username ASC
[Sat, 20 May 17 20:39:37 +0200][INFO] []
[Sat, 20 May 17 20:39:37 +0200][INFO] 
		SELECT *
		FROM priority
		
[Sat, 20 May 17 20:39:37 +0200][INFO] ["central"]
[Sat, 20 May 17 20:39:37 +0200][INFO] SELECT * FROM workflow.request_types r
                INNER JOIN workflow.workflow_systems s ON s.system_id = r.system_id
                WHERE s.system_name = 'central'
[Sat, 20 May 17 20:39:38 +0200][INFO] []
[Sat, 20 May 17 20:39:38 +0200][INFO] SELECT p.*, 
                        pri.name AS priority_name, 
                        pri.style, 
                        COUNT(a.id) AS attachmentCount, 
                        COUNT(c.id) AS commentCount 
                FROM projects p 
                INNER JOIN priority pri ON pri.id = p.priority
                LEFT JOIN attachments a ON a.source_id = p.id
                INNER JOIN departments d ON d.id = p.department_id
                LEFT JOIN comments c ON c.source_id = p.id WHERE 1=1  GROUP BY p.id ORDER BY id DESC
[Sat, 20 May 17 20:39:38 +0200][INFO] ["40"]
[Sat, 20 May 17 20:39:38 +0200][INFO] 
		SELECT *
		FROM workflow.workflow_data
		WHERE
            `object_id` = '40'
                
[Sat, 20 May 17 20:39:38 +0200][INFO] ["39"]
[Sat, 20 May 17 20:39:38 +0200][INFO] 
		SELECT *
		FROM workflow.workflow_data
		WHERE
            `object_id` = '39'
                
[Sat, 20 May 17 20:39:38 +0200][INFO] ["38"]
[Sat, 20 May 17 20:39:38 +0200][INFO] 
		SELECT *
		FROM workflow.workflow_data
		WHERE
            `object_id` = '38'
                
[Sat, 20 May 17 20:39:38 +0200][INFO] ["37"]
[Sat, 20 May 17 20:39:38 +0200][INFO] 
		SELECT *
		FROM workflow.workflow_data
		WHERE
            `object_id` = '37'
                
